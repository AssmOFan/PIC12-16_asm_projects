MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001         include MicroMenu_Lib.h
                      00001 ; Микроменю на базе двухстрочного индикатора HD44780 и четырехпозиционного джойстика (крестовины кнопок)
                      00002 
Warning[205]: Found directive in column 1. (include)
                      00003 include hardware_profile.inc
                      00001         include p16f84.inc
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ;  MPASM PIC16F84 processor include
                      00005 ; 
                      00006 ;  (c) Copyright 1999-2013 Microchip Technology, All rights reserved
                      00007 ;==========================================================================
                      00008 
                      00206         LIST
                      00002         list p=16f84
Warning[205]: Found directive in column 1. (include)
                      00004 include Macro.h 
                      00001 #define USE_SHORT_MOD_PCL       1       ; Использовать "укороченную" версию макроса модификации PCL, поз
                            воляет экономить 1 слово памяти на каждом вызове макроса ценой 1 лишней ячейки ОЗУ
                      00002 
                      00003 push    macro
                      00004                 movwf   w_temp
                      00005                 swapf   STATUS,w
                      00006                 movwf   status_temp
                      00007                 endm
                      00008 
                      00009 pop             macro
                      00010                 swapf   status_temp,w
                      00011                 movwf   STATUS
                      00012                 swapf   w_temp,f
                      00013                 swapf   w_temp,w
                      00014                 endm
                      00015 
                      00016 mod_PCL macro   target                  ; Макрос, позволяет размещать таблицы на границах страниц
                      00017                 local   Table
                      00018                 movfw   target
                      00019                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
                      00020                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                      00021         if      USE_SHORT_MOD_PCL
                      00022                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
                      00023                 addlw   high Table              ; Загрузить 5 старших бит адреса
                      00024         else
                      00025                 movlw   high Table              ; Загрузить 5 старших бит адреса
                      00026                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                      00027                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                      00028         endif
                      00029                 movwf   PCLATH                  ; Установить старшую часть адреса
                      00030                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
                      00031                 movwf   PCL                             ; Установить младшую часть адреса
                      00032         Table
                      00033                 endm
                      00034 
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00035 add_PCL macro   target,address  ; Макрос, позволяет удобно указывать страницу для следующего за ним кода
                      00036                                 movfw   target  
                      00037                                 clrf    PCLATH
                      00038                         if      (address==0x100)
                      00039                                 bsf             PCLATH,0
                      00040                         endif
                      00041                         if      (address==0x200)
                      00042                                 bsf             PCLATH,1
                      00043                         endif
                      00044                         if      (address==0x300)
                      00045                                 bsf             PCLATH,0                                
                      00046                                 bsf             PCLATH,1
                      00047                         endif
                      00048                         if      (address==0x400)
                      00049                                 bsf             PCLATH,2                                
                      00050                         endif
                      00051                                 addwf   PCL
                      00052                                 endm
                      00005 
                      00006 #define USE_CURSOR                              0                               ; Всегда рисовать курсор
                             в конце 1-й строки
                      00007 #define USE_MOVING_CURSOR               1                               ; Использовать перемещаемый курс
                            ор (повышает удобство использования меню и размер прошивки)
                      00008 #define USE_TOP_LAST_CURSOR             1                               ; Использовать отображение "перв
                            ый пункт всегда сверху" и "последний пункт всегда снизу" (повышает удобство использования меню и
                      00009 #define USE_RBIE                                1                               ; Использовать прерывани
                            е по изминению состояния PORTB для обработки кнопок (позволяет использовать сон)
                      00010 
                      00011 #define UP                                              PORTB,4
                      00012 #define DOWN                                    PORTB,5
                      00013 #define ENTER                                   PORTB,6
                      00014 #define EXIT                                    PORTB,7
                      00015 
                      00016 #define Press_UP                                flags,0
                      00017 #define Press_DOWN                              flags,1
                      00018 #define Press_EXIT                              flags,2
                      00019 #define Press_ENTER                             flags,3 
                      00020 
                      00021 #define EXIT_DELAY                              .20                             ; Количество опросов кно
                            пок, до выхода в предыдущий уровень (* 0,8 сек)
                      00022 
                      00023 #define ZASTAVKA_FIRST_STRING   "  MicroMenuLib"
                      00024 #define ZASTAVKA_SECOND_STRING  "  ver 1.0 beta"
                      00025 
                      00026 #define NUM_OF_MAIN_MENU_PUNKTS .5                              ; Количество пунктов меню, до 10 
                      00027 
                      00028 #define MENU_NAME_1                             "1.Menu_1"
                      00029 #define MENU_NAME_2                             "2.Menu_2"
                      00030 #define MENU_NAME_3                             "3.Menu_3"
                      00031 #define MENU_NAME_4                             "4.Menu_4"
                      00032 #define MENU_NAME_5                             "5.Menu_5"      
                      00033 
                      00034 #define NUM_OF_SUBMENU_PUNKTS_1 .3                              ; Количество подпунктов каждого пункта м
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                            еню, до 10
                      00035 
                      00036 #define MENU_SUBMENU_NAME_1_1   "1.1.Garage"
                      00037 #define MENU_SUBMENU_NAME_1_2   "1.2.Doors"
                      00038 #define MENU_SUBMENU_NAME_1_3   "1.3.House"
                      00039 
                      00040 #define NUM_OF_SUBMENU_PUNKTS_2 .3
                      00041 
                      00042 #define MENU_SUBMENU_NAME_2_1   "2.1.Garage"
                      00043 #define MENU_SUBMENU_NAME_2_2   "2.2.Doors"
                      00044 #define MENU_SUBMENU_NAME_2_3   "2.3.House"
                      00045                                 
                      00046 #define NUM_OF_SUBMENU_PUNKTS_3 .3
                      00047 
                      00048 #define MENU_SUBMENU_NAME_3_1   "3.1.Review"
                      00049 #define MENU_SUBMENU_NAME_3_2   "3.2.Shut Off"
                      00050 #define MENU_SUBMENU_NAME_3_3   "3.3.FAQ"
                      00051 
                      00052 #define NUM_OF_SUBMENU_PUNKTS_4 .3
                      00053 
                      00054 #define MENU_SUBMENU_NAME_4_1   "4.1.Review"
                      00055 #define MENU_SUBMENU_NAME_4_2   "4.2.Shut Off"
                      00056 #define MENU_SUBMENU_NAME_4_3   "4.3.FAQ"
                      00057 
                      00058 #define NUM_OF_SUBMENU_PUNKTS_5 .3
                      00059 
                      00060 #define MENU_SUBMENU_NAME_5_1   "5.1.Config"
                      00061 #define MENU_SUBMENU_NAME_5_2   "5.2.Settings"
                      00062 #define MENU_SUBMENU_NAME_5_3   "5.3.About"
                      00063 
                      00064 ;=======================================================================================================
                            =========
                      00065 Create_Menu_Names       macro                           ; Макрос, создает имена всех пунктов меню
                      00066                         local   a=1
                      00067                                 while   a<NUM_OF_MAIN_MENU_PUNKTS+1
                      00068                                 Menu_#v(a)
                      00069                                         mod_PCL symbol_pointer
                      00070                                         dt              MENU_NAME_#v(a),0
                      00071                                         a+=1
                      00072                                 endw
                      00073                         endm
                      00074 
                      00075 ;=======================================================================================================
                            =========
                      00076 retlw_num_of_submenu_punkts     macro           ; Макрос, возвращает количество пунктов нужного подменю
                      00077                                 mod_PCL index_menu
                      00078                         local   a=1
                      00079                                 while   a<NUM_OF_MAIN_MENU_PUNKTS+1
                      00080                                         retlw   NUM_OF_SUBMENU_PUNKTS_#v(a)
                      00081                                         a+=1
                      00082                                 endw
                      00083                         endm
                      00084 
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00085 ;=======================================================================================================
                            =========
                      00086 goto_Punkt_Menu macro                                   ; Макрос, создает переходы на все пункты меню
                      00087                                 mod_PCL index_menu
                      00088                         local   a=1
                      00089                                 while   a<NUM_OF_MAIN_MENU_PUNKTS+1
                      00090                                         goto    Menu_#v(a)
                      00091                                         a+=1
                      00092                                 endw
                      00093                         endm
                      00094 
                      00095 ;=======================================================================================================
                            =========
                      00096 goto_Punkt_Submenu      macro                           ; Макрос, создает переходы на все подпункты меню
                      00097                                         mod_PCL index_menu                              
                      00098                         local   c=1
                      00099                                 while   c<NUM_OF_MAIN_MENU_PUNKTS+1
                      00100                                         goto    Menu_#v(c)_Table
                      00101                                         c+=1
                      00102                                 endw
                      00103                         local   d=1
                      00104 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00105 ; Переходы на подпункты 1 пункта меню
                      00106 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00107                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00108                                 local   a=1     
                      00109                                 Menu_#v(d)_Table
                      00110                                         mod_PCL index_submenu
                      00111                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00112                                         goto    Menu_#v(d)_Submenu_#v(a)
                      00113                                         a+=1
                      00114                                 endw
                      00115                                         d+=1
                      00116                                 endif
                      00117 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00118 ; Переходы на подпункты 2 пункта меню
                      00119 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00120                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00121                                 local   a=1     
                      00122                                 Menu_#v(d)_Table
                      00123                                         mod_PCL index_submenu
                      00124                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00125                                         goto    Menu_#v(d)_Submenu_#v(a)
                      00126                                         a+=1
                      00127                                 endw
                      00128                                         d+=1
                      00129                                 endif
                      00130 ;-------------------------------------------------------------------------------------------------------
                            ----
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00131 ; Переходы на подпункты 3 пункта меню
                      00132 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00133                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00134                                 local   a=1     
                      00135                                 Menu_#v(d)_Table
                      00136                                         mod_PCL index_submenu
                      00137                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00138                                         goto    Menu_#v(d)_Submenu_#v(a)
                      00139                                         a+=1
                      00140                                 endw
                      00141                                         d+=1
                      00142                                 endif
                      00143 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00144 ; Переходы на подпункты 4 пункта меню
                      00145 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00146                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00147                                 local   a=1     
                      00148                                 Menu_#v(d)_Table
                      00149                                         mod_PCL index_submenu
                      00150                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00151                                         goto    Menu_#v(d)_Submenu_#v(a)
                      00152                                         a+=1
                      00153                                 endw
                      00154                                         d+=1
                      00155                                 endif
                      00156 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00157 ; Переходы на подпункты 5 пункта меню
                      00158 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00159                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00160                                 local   a=1     
                      00161                                 Menu_#v(d)_Table
                      00162                                         mod_PCL index_submenu
                      00163                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00164                                         goto    Menu_#v(d)_Submenu_#v(a)
                      00165                                         a+=1
                      00166                                 endw
                      00167                                         d+=1
                      00168                                 endif
                      00169 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00170 ; Переходы на подпункты 6 пункта меню
                      00171 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00172                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00173                                 local   a=1     
                      00174                                 Menu_#v(d)_Table
                      00175                                         mod_PCL index_submenu
                      00176                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00177                                         goto    Menu_#v(d)_Submenu_#v(a)
                      00178                                         a+=1
                      00179                                 endw
                      00180                                         d+=1
                      00181                                 endif
                      00182 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00183 ; Переходы на подпункты 7 пункта меню
                      00184 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00185                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00186                                 local   a=1     
                      00187                                 Menu_#v(d)_Table
                      00188                                         mod_PCL index_submenu
                      00189                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00190                                         goto    Menu_#v(d)_Submenu_#v(a)
                      00191                                         a+=1
                      00192                                 endw
                      00193                                         d+=1
                      00194                                 endif
                      00195 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00196 ; Переходы на подпункты 8 пункта меню
                      00197 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00198                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00199                                 local   a=1     
                      00200                                 Menu_#v(d)_Table
                      00201                                         mod_PCL index_submenu
                      00202                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00203                                         goto    Menu_#v(d)_Submenu_#v(a)
                      00204                                         a+=1
                      00205                                 endw
                      00206                                         d+=1
                      00207                                 endif
                      00208 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00209 ; Переходы на подпункты 9 пункта меню
                      00210 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00211                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00212                                 local   a=1     
                      00213                                 Menu_#v(d)_Table
                      00214                                         mod_PCL index_submenu
                      00215                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00216                                         goto    Menu_#v(d)_Submenu_#v(a)
                      00217                                         a+=1
                      00218                                 endw
                      00219                                         d+=1
                      00220                                 endif
                      00221 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00222 ; Переходы на подпункты 10 пункта меню
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00223 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00224                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00225                                 local   a=1     
                      00226                                 Menu_#v(d)_Table
                      00227                                         mod_PCL index_submenu
                      00228                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00229                                         goto    Menu_#v(d)_Submenu_#v(a)
                      00230                                         a+=1
                      00231                                 endw
                      00232                                         d+=1
                      00233                                 endif           
                      00234 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00235                         endm
                      00236 
                      00237 ;=======================================================================================================
                            =========
                      00238 goto_Punkt_Submenu_action       macro           ; Макрос, создает переходы на действия всех подпунктов м
                            еню
                      00239                                         mod_PCL index_menu                              
                      00240                         local   c=1
                      00241                                 while   c<NUM_OF_MAIN_MENU_PUNKTS+1
                      00242                                         goto    Menu_#v(c)_Table_action
                      00243                                         c+=1
                      00244                                 endw
                      00245                         local   d=1
                      00246 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00247 ; Действия подпунктов 1 пункта меню
                      00248 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00249                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00250                                 local   a=1     
                      00251                                 Menu_#v(d)_Table_action
                      00252                                         mod_PCL index_submenu
                      00253                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00254                                         goto    Menu_#v(d)_Submenu_#v(a)_action
                      00255                                         a+=1
                      00256                                 endw
                      00257                                         d+=1
                      00258                                 endif
                      00259 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00260 ; Действия подпунктов 2 пункта меню
                      00261 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00262                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00263                                 local   a=1     
                      00264                                 Menu_#v(d)_Table_action
                      00265                                         mod_PCL index_submenu
                      00266                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00267                                         goto    Menu_#v(d)_Submenu_#v(a)_action
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00268                                         a+=1
                      00269                                 endw
                      00270                                         d+=1
                      00271                                 endif
                      00272 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00273 ; Действия подпунктов 3 пункта меню
                      00274 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00275                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00276                                 local   a=1     
                      00277                                 Menu_#v(d)_Table_action
                      00278                                         mod_PCL index_submenu
                      00279                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00280                                         goto    Menu_#v(d)_Submenu_#v(a)_action
                      00281                                         a+=1
                      00282                                 endw
                      00283                                         d+=1
                      00284                                 endif
                      00285 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00286 ; Действия подпунктов 4 пункта меню
                      00287 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00288                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00289                                 local   a=1     
                      00290                                 Menu_#v(d)_Table_action
                      00291                                         mod_PCL index_submenu
                      00292                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00293                                         goto    Menu_#v(d)_Submenu_#v(a)_action
                      00294                                         a+=1
                      00295                                 endw
                      00296                                         d+=1
                      00297                                 endif
                      00298 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00299 ; Действия подпунктов 5 пункта меню
                      00300 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00301                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00302                                 local   a=1     
                      00303                                 Menu_#v(d)_Table_action
                      00304                                         mod_PCL index_submenu
                      00305                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00306                                         goto    Menu_#v(d)_Submenu_#v(a)_action
                      00307                                         a+=1
                      00308                                 endw
                      00309                                         d+=1
                      00310                                 endif
                      00311 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00312 ; Действия подпунктов 6 пункта меню
                      00313 ;-------------------------------------------------------------------------------------------------------
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                            ----
                      00314                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00315                                 local   a=1     
                      00316                                 Menu_#v(d)_Table_action
                      00317                                         mod_PCL index_submenu
                      00318                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00319                                         goto    Menu_#v(d)_Submenu_#v(a)_action
                      00320                                         a+=1
                      00321                                 endw
                      00322                                         d+=1
                      00323                                 endif
                      00324 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00325 ; Действия подпунктов 7 пункта меню
                      00326 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00327                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00328                                 local   a=1     
                      00329                                 Menu_#v(d)_Table_action
                      00330                                         mod_PCL index_submenu
                      00331                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00332                                         goto    Menu_#v(d)_Submenu_#v(a)_action
                      00333                                         a+=1
                      00334                                 endw
                      00335                                         d+=1
                      00336                                 endif
                      00337 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00338 ; Действия подпунктов 8 пункта меню
                      00339 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00340                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00341                                 local   a=1     
                      00342                                 Menu_#v(d)_Table_action
                      00343                                         mod_PCL index_submenu
                      00344                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00345                                         goto    Menu_#v(d)_Submenu_#v(a)_action
                      00346                                         a+=1
                      00347                                 endw
                      00348                                         d+=1
                      00349                                 endif
                      00350 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00351 ; Действия подпунктов 9 пункта меню
                      00352 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00353                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00354                                 local   a=1     
                      00355                                 Menu_#v(d)_Table_action
                      00356                                         mod_PCL index_submenu
                      00357                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00358                                         goto    Menu_#v(d)_Submenu_#v(a)_action
                      00359                                         a+=1
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00360                                 endw
                      00361                                         d+=1
                      00362                                 endif
                      00363 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00364 ; Действия подпунктов 10 пункта меню
                      00365 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00366                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00367                                 local   a=1     
                      00368                                 Menu_#v(d)_Table_action
                      00369                                         mod_PCL index_submenu
                      00370                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00371                                         goto    Menu_#v(d)_Submenu_#v(a)_action
                      00372                                         a+=1
                      00373                                 endw
                      00374                                         d+=1
                      00375                                 endif
                      00376 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00377                         endm
                      00378 
                      00379 ;===================================================================================================
                      00380 Create_Submenu_Names    macro                           ; Макрос, создает имена всех подпунктов меню
                      00381                                 local   d=1
                      00382 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00383 ; Подпункты 1 пункта меню
                      00384 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00385                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00386                                 local   a=1     
                      00387                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00388                                         Menu_#v(d)_Submenu_#v(a)
                      00389                                                 mod_PCL symbol_pointer
                      00390                                                 dt              MENU_SUBMENU_NAME_1_#v(a),0
                      00391                                         a+=1
                      00392                                 endw
                      00393                                         d+=1
                      00394                                 endif
                      00395 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00396 ; Подпункты 2 пункта меню
                      00397 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00398                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00399                                 local   a=1     
                      00400                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00401                                         Menu_#v(d)_Submenu_#v(a)
                      00402                                                 mod_PCL symbol_pointer
                      00403                                                 dt              MENU_SUBMENU_NAME_2_#v(a),0
                      00404                                         a+=1
                      00405                                 endw
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00406                                         d+=1
                      00407                                 endif
                      00408 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00409 ; Подпункты 3 пункта меню
                      00410 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00411                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00412                                 local   a=1     
                      00413                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00414                                         Menu_#v(d)_Submenu_#v(a)
                      00415                                                 mod_PCL symbol_pointer
                      00416                                                 dt              MENU_SUBMENU_NAME_3_#v(a),0
                      00417                                         a+=1
                      00418                                 endw
                      00419                                         d+=1
                      00420                                 endif
                      00421 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00422 ; Подпункты 4 пункта меню
                      00423 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00424                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00425                                 local   a=1     
                      00426                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00427                                         Menu_#v(d)_Submenu_#v(a)
                      00428                                                 mod_PCL symbol_pointer
                      00429                                                 dt              MENU_SUBMENU_NAME_4_#v(a),0
                      00430                                         a+=1
                      00431                                 endw
                      00432                                         d+=1
                      00433                                 endif
                      00434 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00435 ; Подпункты 5 пункта меню
                      00436 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00437                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00438                                 local   a=1     
                      00439                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00440                                         Menu_#v(d)_Submenu_#v(a)
                      00441                                                 mod_PCL symbol_pointer
                      00442                                                 dt              MENU_SUBMENU_NAME_5_#v(a),0
                      00443                                         a+=1
                      00444                                 endw
                      00445                                         d+=1
                      00446                                 endif
                      00447 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00448 ; Подпункты 6 пункта меню
                      00449 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00450                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00451                                 local   a=1     
                      00452                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00453                                         Menu_#v(d)_Submenu_#v(a)
                      00454                                                 mod_PCL symbol_pointer
                      00455                                                 dt              MENU_SUBMENU_NAME_6_#v(a),0
                      00456                                         a+=1
                      00457                                 endw
                      00458                                         d+=1
                      00459                                 endif
                      00460 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00461 ; Подпункты 7 пункта меню
                      00462 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00463                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00464                                 local   a=1     
                      00465                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00466                                         Menu_#v(d)_Submenu_#v(a)
                      00467                                                 mod_PCL symbol_pointer
                      00468                                                 dt              MENU_SUBMENU_NAME_7_#v(a),0
                      00469                                         a+=1
                      00470                                 endw
                      00471                                         d+=1
                      00472                                 endif
                      00473 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00474 ; Подпункты 8 пункта меню
                      00475 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00476                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00477                                 local   a=1     
                      00478                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00479                                         Menu_#v(d)_Submenu_#v(a)
                      00480                                                 mod_PCL symbol_pointer
                      00481                                                 dt              MENU_SUBMENU_NAME_8_#v(a),0
                      00482                                         a+=1
                      00483                                 endw
                      00484                                         d+=1
                      00485                                 endif
                      00486 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00487 ; Подпункты 9 пункта меню
                      00488 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00489                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00490                                 local   a=1     
                      00491                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00492                                                 mod_PCL symbol_pointer
                      00493                                                 dt              MENU_SUBMENU_NAME_9_#v(a),0
                      00494                                         a+=1
                      00495                                 endw
                      00496                                         d+=1
                      00497                                 endif
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00498 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00499 ; Подпункты 10 пункта меню
                      00500 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00501                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                      00502                                 local   a=1     
                      00503                                 while   a<NUM_OF_SUBMENU_PUNKTS_#v(d)+1
                      00504                                         Menu_#v(d)_Submenu_#v(a)
                      00505                                                 mod_PCL symbol_pointer
                      00506                                                 dt              MENU_SUBMENU_NAME_10_#v(a),0
                      00507                                         a+=1
                      00508                                 endw
                      00509                                         d+=1
                      00510                                 endif
                      00511 ;-------------------------------------------------------------------------------------------------------
                            ----
                      00512                         endm
                      00002         include HD44780_Lib.h
Warning[205]: Found directive in column 1. (include)
                      00001 include hardware_profile.inc
                      00003         include p16f84.inc
                      00207         LIST
                      00208 
                      00209 ;==========================================================================
                      00210 ;  MPASM PIC16F84 processor include
                      00211 ; 
                      00212 ;  (c) Copyright 1999-2013 Microchip Technology, All rights reserved
                      00213 ;==========================================================================
                      00214 
Message[310]: Superseding current maximum RAM and RAM map.
                      00412         LIST
                      00004         list p=16f84
                      00002 
  00000001            00003 y                               equ             1                               ; YES
  00000000            00004 n                               equ             0                               ; NO
                      00005 
  00000001            00006 Use_4_bit_mode  equ             y                               ; YES/NO
  00000000            00007 Use_High_Nible  equ             n                               ; YES/NO
  00000000            00008 Use_One_Port    equ             n                               ; YES/NO
  00000001            00009 Only_Write              equ             y                               ; YES/NO
                      00010 
  00000006            00011 LCD_DATA                equ             PORTB                   ; Описываем порт линий данных
  00000086            00012 LCD_DATA_TRIS   equ             TRISB
                      00013 
                      00014         if      (Use_4_bit_mode && Use_One_Port); ; Если используем один порт для данных и линий управле
                            ниЯ
                      00015 
                      00016 LCD_CNTL                equ             LCD_DATA                ; то так и опишем
                      00017 LCD_CNTL_TRIS   equ             LCD_DATA_TRIS
                      00018 
                      00019         else
                      00020 
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000005            00021 LCD_CNTL                equ             PORTA                   ; Иначе зададим любой другой
  00000085            00022 LCD_CNTL_TRIS   equ             TRISA
                      00023         endif
                      00024         
                      00025         if      (Use_4_bit_mode && Use_One_Port && Use_High_Nible && Only_Write)
                      00026 E                               equ             2
                      00027 RS                              equ             3
                      00028 CNTL_TRIS_MASK  equ             b'11110011'             ; Маска настройки линий управлениЯ
                      00029         endif
                      00030 
                      00031         if      (Use_4_bit_mode && Use_One_Port && Use_High_Nible && !Only_Write)
                      00032 E                               equ             1
                      00033 RW                              equ             2
                      00034 RS                              equ             3
                      00035 CNTL_TRIS_MASK  equ             b'11110001'             ; Маска настройки линий управлениЯ
                      00036         endif   
                      00037 
                      00038         if      (Use_4_bit_mode && Use_One_Port && !Use_High_Nible && Only_Write)
                      00039 E                               equ             4
                      00040 RS                              equ             5
                      00041 CNTL_TRIS_MASK  equ             b'11001111'             ; Маска настройки линий управлениЯ
                      00042         endif   
                      00043 
                      00044         if      (Use_4_bit_mode && Use_One_Port && !Use_High_Nible && !Only_Write)
                      00045 E                               equ             4
                      00046 RW                              equ             5
                      00047 RS                              equ             6
                      00048 CNTL_TRIS_MASK  equ             b'10001111'             ; Маска настройки линий управлениЯ
                      00049 
                      00050         else    ; Иначе присваиваем контрольным линиям любой другой порт и вибираем линии их по своему у
                            смотрению
                      00051         
  00000001            00052 E                               equ             1
  00000003            00053 RS                              equ             3
  000000F5            00054 CNTL_TRIS_MASK  equ             b'11110101'             ; Маска настройки линий управления
                      00055         endif
                      00056 
  0000000C            00057 DISP_ON                 EQU             b'00001100'             ; Display on
  0000000E            00058 DISP_ON_C               EQU             b'00001110'             ; Display on, Cursor on
  0000000F            00059 DISP_ON_B               EQU             b'00001111'             ; Display on, Cursor on, Blink cursor
  00000008            00060 DISP_OFF                EQU             b'00001000'             ; Display off
  00000001            00061 CLR_DISP                EQU             b'00000001'             ; Clear the Display
  00000006            00062 ENTRY_INC               EQU             b'00000110'             ; автоинкремент адреса, нет сдвига 
  00000007            00063 ENTRY_INC_S             EQU             b'00000111'             ; автоинкремент адреса, есть сдвиг
  00000004            00064 ENTRY_DEC               EQU             b'00000100'             ; автоинкремент адреса, нет сдвига 
  00000005            00065 ENTRY_DEC_S             EQU             b'00000101'             ;
  00000080            00066 DD_RAM_ADDR             EQU             b'10000000'             ; Least Significant 7-bit are for addres
                            s
  00000080            00067 DD_RAM_UL               EQU             b'10000000'             ; Upper Left coner of the Display
  000000C0            00068 SECOND_LINE             EQU             b'11000000'             ; Move cursor to second line
                      00069                                         
                      00003 
                      00004 MicroMenu_Lib_udata     udata_shr
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0000                  00005 index_menu              res     1
0001                  00006 index_submenu   res     1
0002                  00007 symbol_pointer  res     1
0003                  00008 menu_counter    res     1
0004                  00009 temp_1                  res     1
0005                  00010 temp_2                  res     1
0006                  00011 temp_3                  res     1
                      00012 
Warning[205]: Found directive in column 1. (extern)
  0000                00013 extern  flags,offset
                      00014 
                      00015         if      USE_SHORT_MOD_PCL
Warning[205]: Found directive in column 1. (extern)
  0000                00016 extern  known_zero
                      00017         endif
                      00018 
  0000                00019         global  Menu_heandler,Zastavka
  0000                00020         extern  Send_LCD_Symbol,Send_LCD_Command,Delay_4ms,Main
                      00021 ;===================================================================================================
                      00022 MicroMenu               code                                    ; Сегмент кода библиотеки меню
                      00023 ;===================================================================================================
0000                  00024 Table_Action_Complete 
                      00025         mod_PCL symbol_pointer
  0000                    M                 local   Table
0000   08??               M                 movfw   symbol_pointer
0001   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
0002   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
0003   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
0004   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
0005   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
0006   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
0007   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
0008                      M         Table
0008   3441 3463 3474 00026         dt              "Action Complete!",0
       3469 346F 346E 
       3420 3443 346F 
       346D 3470 346C 
       3465 3474 3465 
       3421 3400 
                      00027 
0019                  00028 Table_Zastavka_First_String
                      00029         mod_PCL symbol_pointer
  0000                    M                 local   Table
0019   08??               M                 movfw   symbol_pointer
001A   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
001B   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M         if      USE_SHORT_MOD_PCL
001C   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
001D   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
001E   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
001F   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
0020   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
0021                      M         Table
0021   3420 3420 344D 00030         dt              ZASTAVKA_FIRST_STRING,0
       3469 3463 3472 
       346F 344D 3465 
       346E 3475 344C 
       3469 3462 3400 
                      00031 
0030                  00032 Table_Zastavka_Second_String 
                      00033         mod_PCL symbol_pointer
  0000                    M                 local   Table
0030   08??               M                 movfw   symbol_pointer
0031   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
0032   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
0033   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
0034   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
0035   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
0036   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
0037   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
0038                      M         Table
0038   3420 3420 3476 00034         dt              ZASTAVKA_SECOND_STRING,0
       3465 3472 3420 
       3431 342E 3430 
       3420 3462 3465 
       3474 3461 3400 
                      00035 ;===================================================================================================
0047                  00036 Num_of_Submenu_Table                                    
                      00037         retlw_num_of_submenu_punkts                     ; Макрос, возвращает количество подпунктов текущ
                            его пункта меню
                          M                                 mod_PCL index_menu
  0000                    M                 local   Table
0047   08??               M                 movfw   index_menu
0048   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
0049   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

004A   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
004B   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
004C   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
004D   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
004E   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
004F                      M         Table
  0001                    M                         local   a=1
                          M                                 while   a<NUM_OF_MAIN_MENU_PUNKTS+1
004F   3403               M                                         retlw   NUM_OF_SUBMENU_PUNKTS_1
Warning[207]: Found label after column 1. (a)
  00000002                M                                         a+=1
0050   3403               M                                         retlw   NUM_OF_SUBMENU_PUNKTS_2
Warning[207]: Found label after column 1. (a)
  00000003                M                                         a+=1
0051   3403               M                                         retlw   NUM_OF_SUBMENU_PUNKTS_3
Warning[207]: Found label after column 1. (a)
  00000004                M                                         a+=1
0052   3403               M                                         retlw   NUM_OF_SUBMENU_PUNKTS_4
Warning[207]: Found label after column 1. (a)
  00000005                M                                         a+=1
0053   3403               M                                         retlw   NUM_OF_SUBMENU_PUNKTS_5
Warning[207]: Found label after column 1. (a)
  00000006                M                                         a+=1
                          M                                 endw
                      00038 ;===================================================================================================
0054                  00039 Switch_Menu_Table                                               ; Переходим на нужный пункт меню
                      00040         goto_Punkt_Menu                                         ; Макрос, создает переходы на все пункты
                             меню. Первое GOTO должно находится по адресу 0x100                                             
                          M                                 mod_PCL index_menu
  0000                    M                 local   Table
0054   08??               M                 movfw   index_menu
0055   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
0056   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
0057   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
0058   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
0059   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
005A   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
005B   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
005C                      M         Table
  0001                    M                         local   a=1
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M                                 while   a<NUM_OF_MAIN_MENU_PUNKTS+1
005C   2???               M                                         goto    Menu_1
Warning[207]: Found label after column 1. (a)
  00000002                M                                         a+=1
005D   2???               M                                         goto    Menu_2
Warning[207]: Found label after column 1. (a)
  00000003                M                                         a+=1
005E   2???               M                                         goto    Menu_3
Warning[207]: Found label after column 1. (a)
  00000004                M                                         a+=1
005F   2???               M                                         goto    Menu_4
Warning[207]: Found label after column 1. (a)
  00000005                M                                         a+=1
0060   2???               M                                         goto    Menu_5
Warning[207]: Found label after column 1. (a)
  00000006                M                                         a+=1
                          M                                 endw
                      00041 ;---------------------------------------------------------------------------------------------------
0061                  00042 Switch_Submenu_Table                                    ; Переходим на нужный подпункт меню
                      00043         goto_Punkt_Submenu                                      ; Макрос, создает переходы на все подпун
                            кты меню
                          M                                         mod_PCL index_menu                              
  0000                    M                 local   Table
0061   08??               M                 movfw   index_menu
0062   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
0063   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
0064   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
0065   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
0066   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
0067   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
0068   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
0069                      M         Table
  0001                    M                         local   c=1
                          M                                 while   c<NUM_OF_MAIN_MENU_PUNKTS+1
0069   2???               M                                         goto    Menu_1_Table
Warning[207]: Found label after column 1. (c)
  00000002                M                                         c+=1
006A   2???               M                                         goto    Menu_2_Table
Warning[207]: Found label after column 1. (c)
  00000003                M                                         c+=1
006B   2???               M                                         goto    Menu_3_Table
Warning[207]: Found label after column 1. (c)
  00000004                M                                         c+=1
006C   2???               M                                         goto    Menu_4_Table
Warning[207]: Found label after column 1. (c)
  00000005                M                                         c+=1
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

006D   2???               M                                         goto    Menu_5_Table
Warning[207]: Found label after column 1. (c)
  00000006                M                                         c+=1
                          M                                 endw
  0001                    M                         local   d=1
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Переходы на подпункты 1 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
  0001                    M                                 local   a=1     
Warning[207]: Found label after column 1. (Menu_1_Table)
006E                      M                                 Menu_1_Table
                          M                                         mod_PCL index_submenu
  0000                    M                 local   Table
006E   08??               M                 movfw   index_submenu
006F   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
0070   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
0071   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
0072   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
0073   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
0074   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
0075   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
0076                      M         Table
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_1+1
0076   2???               M                                         goto    Menu_1_Submenu_1
Warning[207]: Found label after column 1. (a)
  00000002                M                                         a+=1
0077   2???               M                                         goto    Menu_1_Submenu_2
Warning[207]: Found label after column 1. (a)
  00000003                M                                         a+=1
0078   2???               M                                         goto    Menu_1_Submenu_3
Warning[207]: Found label after column 1. (a)
  00000004                M                                         a+=1
                          M                                 endw
Warning[207]: Found label after column 1. (d)
  00000002                M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Переходы на подпункты 2 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
  0001                    M                                 local   a=1     
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Warning[207]: Found label after column 1. (Menu_2_Table)
0079                      M                                 Menu_2_Table
                          M                                         mod_PCL index_submenu
  0000                    M                 local   Table
0079   08??               M                 movfw   index_submenu
007A   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
007B   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
007C   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
007D   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
007E   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
007F   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
0080   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
0081                      M         Table
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_2+1
0081   2???               M                                         goto    Menu_2_Submenu_1
Warning[207]: Found label after column 1. (a)
  00000002                M                                         a+=1
0082   2???               M                                         goto    Menu_2_Submenu_2
Warning[207]: Found label after column 1. (a)
  00000003                M                                         a+=1
0083   2???               M                                         goto    Menu_2_Submenu_3
Warning[207]: Found label after column 1. (a)
  00000004                M                                         a+=1
                          M                                 endw
Warning[207]: Found label after column 1. (d)
  00000003                M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Переходы на подпункты 3 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
  0001                    M                                 local   a=1     
Warning[207]: Found label after column 1. (Menu_3_Table)
0084                      M                                 Menu_3_Table
                          M                                         mod_PCL index_submenu
  0000                    M                 local   Table
0084   08??               M                 movfw   index_submenu
0085   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
0086   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
0087   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
0088   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
0089   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
008A   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
008B   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
008C                      M         Table
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_3+1
008C   2???               M                                         goto    Menu_3_Submenu_1
Warning[207]: Found label after column 1. (a)
  00000002                M                                         a+=1
008D   2???               M                                         goto    Menu_3_Submenu_2
Warning[207]: Found label after column 1. (a)
  00000003                M                                         a+=1
008E   2???               M                                         goto    Menu_3_Submenu_3
Warning[207]: Found label after column 1. (a)
  00000004                M                                         a+=1
                          M                                 endw
Warning[207]: Found label after column 1. (d)
  00000004                M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Переходы на подпункты 4 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
  0001                    M                                 local   a=1     
Warning[207]: Found label after column 1. (Menu_4_Table)
008F                      M                                 Menu_4_Table
                          M                                         mod_PCL index_submenu
  0000                    M                 local   Table
008F   08??               M                 movfw   index_submenu
0090   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
0091   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
0092   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
0093   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
0094   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
0095   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
0096   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
0097                      M         Table
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_4+1
0097   2???               M                                         goto    Menu_4_Submenu_1
Warning[207]: Found label after column 1. (a)
  00000002                M                                         a+=1
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0098   2???               M                                         goto    Menu_4_Submenu_2
Warning[207]: Found label after column 1. (a)
  00000003                M                                         a+=1
0099   2???               M                                         goto    Menu_4_Submenu_3
Warning[207]: Found label after column 1. (a)
  00000004                M                                         a+=1
                          M                                 endw
Warning[207]: Found label after column 1. (d)
  00000005                M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Переходы на подпункты 5 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
  0001                    M                                 local   a=1     
Warning[207]: Found label after column 1. (Menu_5_Table)
009A                      M                                 Menu_5_Table
                          M                                         mod_PCL index_submenu
  0000                    M                 local   Table
009A   08??               M                 movfw   index_submenu
009B   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
009C   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
009D   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
009E   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
009F   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
00A0   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
00A1   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
00A2                      M         Table
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_5+1
00A2   2???               M                                         goto    Menu_5_Submenu_1
Warning[207]: Found label after column 1. (a)
  00000002                M                                         a+=1
00A3   2???               M                                         goto    Menu_5_Submenu_2
Warning[207]: Found label after column 1. (a)
  00000003                M                                         a+=1
00A4   2???               M                                         goto    Menu_5_Submenu_3
Warning[207]: Found label after column 1. (a)
  00000004                M                                         a+=1
                          M                                 endw
Warning[207]: Found label after column 1. (d)
  00000006                M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M ; Переходы на подпункты 6 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                          M                                 local   a=1     
                          M                                 Menu_6_Table
                          M                                         mod_PCL index_submenu
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_6+1
                          M                                         goto    Menu_6_Submenu_4
                          M                                         a+=1
                          M                                 endw
                          M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Переходы на подпункты 7 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                          M                                 local   a=1     
                          M                                 Menu_6_Table
                          M                                         mod_PCL index_submenu
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_6+1
                          M                                         goto    Menu_6_Submenu_4
                          M                                         a+=1
                          M                                 endw
                          M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Переходы на подпункты 8 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                          M                                 local   a=1     
                          M                                 Menu_6_Table
                          M                                         mod_PCL index_submenu
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_6+1
                          M                                         goto    Menu_6_Submenu_4
                          M                                         a+=1
                          M                                 endw
                          M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Переходы на подпункты 9 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                          M                                 local   a=1     
                          M                                 Menu_6_Table
                          M                                         mod_PCL index_submenu
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_6+1
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M                                         goto    Menu_6_Submenu_4
                          M                                         a+=1
                          M                                 endw
                          M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Переходы на подпункты 10 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                          M                                 local   a=1     
                          M                                 Menu_6_Table
                          M                                         mod_PCL index_submenu
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_6+1
                          M                                         goto    Menu_6_Submenu_4
                          M                                         a+=1
                          M                                 endw
                          M                                         d+=1
                          M                                 endif           
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                      00044 ;---------------------------------------------------------------------------------------------------
00A5                  00045 Switch_Action                                                   ; Выполним действие, на котором находитс
                            я курсор 
                      00046         goto_Punkt_Submenu_action                       ; Макрос, создает переходы на действия всех подп
                            унктов меню
                          M                                         mod_PCL index_menu                              
  0000                    M                 local   Table
00A5   08??               M                 movfw   index_menu
00A6   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
00A7   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
00A8   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
00A9   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
00AA   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
00AB   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
00AC   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
00AD                      M         Table
  0001                    M                         local   c=1
                          M                                 while   c<NUM_OF_MAIN_MENU_PUNKTS+1
00AD   2???               M                                         goto    Menu_1_Table_action
Warning[207]: Found label after column 1. (c)
  00000002                M                                         c+=1
00AE   2???               M                                         goto    Menu_2_Table_action
Warning[207]: Found label after column 1. (c)
  00000003                M                                         c+=1
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 25


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00AF   2???               M                                         goto    Menu_3_Table_action
Warning[207]: Found label after column 1. (c)
  00000004                M                                         c+=1
00B0   2???               M                                         goto    Menu_4_Table_action
Warning[207]: Found label after column 1. (c)
  00000005                M                                         c+=1
00B1   2???               M                                         goto    Menu_5_Table_action
Warning[207]: Found label after column 1. (c)
  00000006                M                                         c+=1
                          M                                 endw
  0001                    M                         local   d=1
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Действия подпунктов 1 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
  0001                    M                                 local   a=1     
Warning[207]: Found label after column 1. (Menu_1_Table_action)
00B2                      M                                 Menu_1_Table_action
                          M                                         mod_PCL index_submenu
  0000                    M                 local   Table
00B2   08??               M                 movfw   index_submenu
00B3   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
00B4   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
00B5   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
00B6   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
00B7   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
00B8   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
00B9   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
00BA                      M         Table
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_1+1
00BA   2???               M                                         goto    Menu_1_Submenu_1_action
Warning[207]: Found label after column 1. (a)
  00000002                M                                         a+=1
00BB   2???               M                                         goto    Menu_1_Submenu_2_action
Warning[207]: Found label after column 1. (a)
  00000003                M                                         a+=1
00BC   2???               M                                         goto    Menu_1_Submenu_3_action
Warning[207]: Found label after column 1. (a)
  00000004                M                                         a+=1
                          M                                 endw
Warning[207]: Found label after column 1. (d)
  00000002                M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 26


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                            ----
                          M ; Действия подпунктов 2 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
  0001                    M                                 local   a=1     
Warning[207]: Found label after column 1. (Menu_2_Table_action)
00BD                      M                                 Menu_2_Table_action
                          M                                         mod_PCL index_submenu
  0000                    M                 local   Table
00BD   08??               M                 movfw   index_submenu
00BE   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
00BF   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
00C0   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
00C1   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
00C2   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
00C3   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
00C4   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
00C5                      M         Table
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_2+1
00C5   2???               M                                         goto    Menu_2_Submenu_1_action
Warning[207]: Found label after column 1. (a)
  00000002                M                                         a+=1
00C6   2???               M                                         goto    Menu_2_Submenu_2_action
Warning[207]: Found label after column 1. (a)
  00000003                M                                         a+=1
00C7   2???               M                                         goto    Menu_2_Submenu_3_action
Warning[207]: Found label after column 1. (a)
  00000004                M                                         a+=1
                          M                                 endw
Warning[207]: Found label after column 1. (d)
  00000003                M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Действия подпунктов 3 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
  0001                    M                                 local   a=1     
Warning[207]: Found label after column 1. (Menu_3_Table_action)
00C8                      M                                 Menu_3_Table_action
                          M                                         mod_PCL index_submenu
  0000                    M                 local   Table
00C8   08??               M                 movfw   index_submenu
00C9   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 27


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00CA   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
00CB   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
00CC   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
00CD   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
00CE   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
00CF   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
00D0                      M         Table
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_3+1
00D0   2???               M                                         goto    Menu_3_Submenu_1_action
Warning[207]: Found label after column 1. (a)
  00000002                M                                         a+=1
00D1   2???               M                                         goto    Menu_3_Submenu_2_action
Warning[207]: Found label after column 1. (a)
  00000003                M                                         a+=1
00D2   2???               M                                         goto    Menu_3_Submenu_3_action
Warning[207]: Found label after column 1. (a)
  00000004                M                                         a+=1
                          M                                 endw
Warning[207]: Found label after column 1. (d)
  00000004                M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Действия подпунктов 4 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
  0001                    M                                 local   a=1     
Warning[207]: Found label after column 1. (Menu_4_Table_action)
00D3                      M                                 Menu_4_Table_action
                          M                                         mod_PCL index_submenu
  0000                    M                 local   Table
00D3   08??               M                 movfw   index_submenu
00D4   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
00D5   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
00D6   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
00D7   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
00D8   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
00D9   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
00DA   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 28


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Warning[207]: Found label after column 1. (Table)
00DB                      M         Table
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_4+1
00DB   2???               M                                         goto    Menu_4_Submenu_1_action
Warning[207]: Found label after column 1. (a)
  00000002                M                                         a+=1
00DC   2???               M                                         goto    Menu_4_Submenu_2_action
Warning[207]: Found label after column 1. (a)
  00000003                M                                         a+=1
00DD   2???               M                                         goto    Menu_4_Submenu_3_action
Warning[207]: Found label after column 1. (a)
  00000004                M                                         a+=1
                          M                                 endw
Warning[207]: Found label after column 1. (d)
  00000005                M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Действия подпунктов 5 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
  0001                    M                                 local   a=1     
Warning[207]: Found label after column 1. (Menu_5_Table_action)
00DE                      M                                 Menu_5_Table_action
                          M                                         mod_PCL index_submenu
  0000                    M                 local   Table
00DE   08??               M                 movfw   index_submenu
00DF   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
00E0   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
00E1   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
00E2   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
00E3   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
00E4   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
00E5   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
00E6                      M         Table
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_5+1
00E6   2???               M                                         goto    Menu_5_Submenu_1_action
Warning[207]: Found label after column 1. (a)
  00000002                M                                         a+=1
00E7   2???               M                                         goto    Menu_5_Submenu_2_action
Warning[207]: Found label after column 1. (a)
  00000003                M                                         a+=1
00E8   2???               M                                         goto    Menu_5_Submenu_3_action
Warning[207]: Found label after column 1. (a)
  00000004                M                                         a+=1
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 29


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M                                 endw
Warning[207]: Found label after column 1. (d)
  00000006                M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Действия подпунктов 6 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                          M                                 local   a=1     
                          M                                 Menu_6_Table_action
                          M                                         mod_PCL index_submenu
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_6+1
                          M                                         goto    Menu_6_Submenu_4_action
                          M                                         a+=1
                          M                                 endw
                          M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Действия подпунктов 7 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                          M                                 local   a=1     
                          M                                 Menu_6_Table_action
                          M                                         mod_PCL index_submenu
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_6+1
                          M                                         goto    Menu_6_Submenu_4_action
                          M                                         a+=1
                          M                                 endw
                          M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Действия подпунктов 8 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                          M                                 local   a=1     
                          M                                 Menu_6_Table_action
                          M                                         mod_PCL index_submenu
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_6+1
                          M                                         goto    Menu_6_Submenu_4_action
                          M                                         a+=1
                          M                                 endw
                          M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Действия подпунктов 9 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 30


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                          M                                 local   a=1     
                          M                                 Menu_6_Table_action
                          M                                         mod_PCL index_submenu
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_6+1
                          M                                         goto    Menu_6_Submenu_4_action
                          M                                         a+=1
                          M                                 endw
                          M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Действия подпунктов 10 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                          M                                 local   a=1     
                          M                                 Menu_6_Table_action
                          M                                         mod_PCL index_submenu
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_6+1
                          M                                         goto    Menu_6_Submenu_4_action
                          M                                         a+=1
                          M                                 endw
                          M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                      00047 ;===================================================================================================
                      00048         Create_Menu_Names                                       ; Макрос, создает имена всех пунктов мен
                            ю
  0001                    M                         local   a=1
                          M                                 while   a<NUM_OF_MAIN_MENU_PUNKTS+1
Warning[207]: Found label after column 1. (Menu_1)
00E9                      M                                 Menu_1
                          M                                         mod_PCL symbol_pointer
  0000                    M                 local   Table
00E9   08??               M                 movfw   symbol_pointer
00EA   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
00EB   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
00EC   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
00ED   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
00EE   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
00EF   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
00F0   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
00F1                      M         Table
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 31


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00F1   3431 342E 344D     M                                         dt              MENU_NAME_1,0
       3465 346E 3475 
       345F 3431 3400 
Warning[207]: Found label after column 1. (a)
  00000002                M                                         a+=1
Warning[207]: Found label after column 1. (Menu_2)
00FA                      M                                 Menu_2
                          M                                         mod_PCL symbol_pointer
  0000                    M                 local   Table
00FA   08??               M                 movfw   symbol_pointer
00FB   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
00FC   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
00FD   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
00FE   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
00FF   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
0100   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
0101   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
0102                      M         Table
0102   3432 342E 344D     M                                         dt              MENU_NAME_2,0
       3465 346E 3475 
       345F 3432 3400 
Warning[207]: Found label after column 1. (a)
  00000003                M                                         a+=1
Warning[207]: Found label after column 1. (Menu_3)
010B                      M                                 Menu_3
                          M                                         mod_PCL symbol_pointer
  0000                    M                 local   Table
010B   08??               M                 movfw   symbol_pointer
010C   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
010D   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
010E   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
010F   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
0110   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
0111   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
0112   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
0113                      M         Table
0113   3433 342E 344D     M                                         dt              MENU_NAME_3,0
       3465 346E 3475 
       345F 3433 3400 
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 32


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Warning[207]: Found label after column 1. (a)
  00000004                M                                         a+=1
Warning[207]: Found label after column 1. (Menu_4)
011C                      M                                 Menu_4
                          M                                         mod_PCL symbol_pointer
  0000                    M                 local   Table
011C   08??               M                 movfw   symbol_pointer
011D   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
011E   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
011F   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
0120   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
0121   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
0122   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
0123   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
0124                      M         Table
0124   3434 342E 344D     M                                         dt              MENU_NAME_4,0
       3465 346E 3475 
       345F 3434 3400 
Warning[207]: Found label after column 1. (a)
  00000005                M                                         a+=1
Warning[207]: Found label after column 1. (Menu_5)
012D                      M                                 Menu_5
                          M                                         mod_PCL symbol_pointer
  0000                    M                 local   Table
012D   08??               M                 movfw   symbol_pointer
012E   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
012F   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
0130   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
0131   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
0132   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
0133   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
0134   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
0135                      M         Table
0135   3435 342E 344D     M                                         dt              MENU_NAME_5,0
       3465 346E 3475 
       345F 3435 3400 
Warning[207]: Found label after column 1. (a)
  00000006                M                                         a+=1
                          M                                 endw
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 33


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00049 ;===================================================================================================
                      00050         Create_Submenu_Names                            ; Макрос, создает имена всех подпунктов меню
  0001                    M                                 local   d=1
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Подпункты 1 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
  0001                    M                                 local   a=1     
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_1+1
Warning[207]: Found label after column 1. (Menu_1_Submenu_1)
013E                      M                                         Menu_1_Submenu_1
                          M                                                 mod_PCL symbol_pointer
  0000                    M                 local   Table
013E   08??               M                 movfw   symbol_pointer
013F   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
0140   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
0141   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
0142   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
0143   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
0144   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
0145   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
0146                      M         Table
0146   3431 342E 3431     M                                                 dt              MENU_SUBMENU_NAME_1_1,0
       342E 3447 3461 
       3472 3461 3467 
       3465 3400 
Warning[207]: Found label after column 1. (a)
  00000002                M                                         a+=1
Warning[207]: Found label after column 1. (Menu_1_Submenu_2)
0151                      M                                         Menu_1_Submenu_2
                          M                                                 mod_PCL symbol_pointer
  0000                    M                 local   Table
0151   08??               M                 movfw   symbol_pointer
0152   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
0153   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
0154   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
0155   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
0156   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 34


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0157   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
0158   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
0159                      M         Table
0159   3431 342E 3432     M                                                 dt              MENU_SUBMENU_NAME_1_2,0
       342E 3444 346F 
       346F 3472 3473 
       3400 
Warning[207]: Found label after column 1. (a)
  00000003                M                                         a+=1
Warning[207]: Found label after column 1. (Menu_1_Submenu_3)
0163                      M                                         Menu_1_Submenu_3
                          M                                                 mod_PCL symbol_pointer
  0000                    M                 local   Table
0163   08??               M                 movfw   symbol_pointer
0164   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
0165   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
0166   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
0167   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
0168   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
0169   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
016A   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
016B                      M         Table
016B   3431 342E 3433     M                                                 dt              MENU_SUBMENU_NAME_1_3,0
       342E 3448 346F 
       3475 3473 3465 
       3400 
Warning[207]: Found label after column 1. (a)
  00000004                M                                         a+=1
                          M                                 endw
Warning[207]: Found label after column 1. (d)
  00000002                M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Подпункты 2 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
  0001                    M                                 local   a=1     
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_2+1
Warning[207]: Found label after column 1. (Menu_2_Submenu_1)
0175                      M                                         Menu_2_Submenu_1
                          M                                                 mod_PCL symbol_pointer
  0000                    M                 local   Table
0175   08??               M                 movfw   symbol_pointer
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 35


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0176   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
0177   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
0178   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
0179   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
017A   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
017B   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
017C   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
017D                      M         Table
017D   3432 342E 3431     M                                                 dt              MENU_SUBMENU_NAME_2_1,0
       342E 3447 3461 
       3472 3461 3467 
       3465 3400 
Warning[207]: Found label after column 1. (a)
  00000002                M                                         a+=1
Warning[207]: Found label after column 1. (Menu_2_Submenu_2)
0188                      M                                         Menu_2_Submenu_2
                          M                                                 mod_PCL symbol_pointer
  0000                    M                 local   Table
0188   08??               M                 movfw   symbol_pointer
0189   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
018A   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
018B   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
018C   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
018D   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
018E   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
018F   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
0190                      M         Table
0190   3432 342E 3432     M                                                 dt              MENU_SUBMENU_NAME_2_2,0
       342E 3444 346F 
       346F 3472 3473 
       3400 
Warning[207]: Found label after column 1. (a)
  00000003                M                                         a+=1
Warning[207]: Found label after column 1. (Menu_2_Submenu_3)
019A                      M                                         Menu_2_Submenu_3
                          M                                                 mod_PCL symbol_pointer
  0000                    M                 local   Table
019A   08??               M                 movfw   symbol_pointer
019B   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 36


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

019C   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
019D   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
019E   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
019F   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
01A0   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
01A1   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
01A2                      M         Table
01A2   3432 342E 3433     M                                                 dt              MENU_SUBMENU_NAME_2_3,0
       342E 3448 346F 
       3475 3473 3465 
       3400 
Warning[207]: Found label after column 1. (a)
  00000004                M                                         a+=1
                          M                                 endw
Warning[207]: Found label after column 1. (d)
  00000003                M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Подпункты 3 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
  0001                    M                                 local   a=1     
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_3+1
Warning[207]: Found label after column 1. (Menu_3_Submenu_1)
01AC                      M                                         Menu_3_Submenu_1
                          M                                                 mod_PCL symbol_pointer
  0000                    M                 local   Table
01AC   08??               M                 movfw   symbol_pointer
01AD   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
01AE   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
01AF   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
01B0   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
01B1   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
01B2   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
01B3   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
01B4                      M         Table
01B4   3433 342E 3431     M                                                 dt              MENU_SUBMENU_NAME_3_1,0
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 37


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

       342E 3452 3465 
       3476 3469 3465 
       3477 3400 
Warning[207]: Found label after column 1. (a)
  00000002                M                                         a+=1
Warning[207]: Found label after column 1. (Menu_3_Submenu_2)
01BF                      M                                         Menu_3_Submenu_2
                          M                                                 mod_PCL symbol_pointer
  0000                    M                 local   Table
01BF   08??               M                 movfw   symbol_pointer
01C0   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
01C1   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
01C2   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
01C3   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
01C4   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
01C5   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
01C6   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
01C7                      M         Table
01C7   3433 342E 3432     M                                                 dt              MENU_SUBMENU_NAME_3_2,0
       342E 3453 3468 
       3475 3474 3420 
       344F 3466 3466 
       3400 
Warning[207]: Found label after column 1. (a)
  00000003                M                                         a+=1
Warning[207]: Found label after column 1. (Menu_3_Submenu_3)
01D4                      M                                         Menu_3_Submenu_3
                          M                                                 mod_PCL symbol_pointer
  0000                    M                 local   Table
01D4   08??               M                 movfw   symbol_pointer
01D5   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
01D6   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
01D7   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
01D8   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
01D9   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
01DA   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
01DB   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
01DC                      M         Table
01DC   3433 342E 3433     M                                                 dt              MENU_SUBMENU_NAME_3_3,0
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 38


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

       342E 3446 3441 
       3451 3400 
Warning[207]: Found label after column 1. (a)
  00000004                M                                         a+=1
                          M                                 endw
Warning[207]: Found label after column 1. (d)
  00000004                M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Подпункты 4 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
  0001                    M                                 local   a=1     
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_4+1
Warning[207]: Found label after column 1. (Menu_4_Submenu_1)
01E4                      M                                         Menu_4_Submenu_1
                          M                                                 mod_PCL symbol_pointer
  0000                    M                 local   Table
01E4   08??               M                 movfw   symbol_pointer
01E5   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
01E6   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
01E7   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
01E8   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
01E9   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
01EA   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
01EB   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
01EC                      M         Table
01EC   3434 342E 3431     M                                                 dt              MENU_SUBMENU_NAME_4_1,0
       342E 3452 3465 
       3476 3469 3465 
       3477 3400 
Warning[207]: Found label after column 1. (a)
  00000002                M                                         a+=1
Warning[207]: Found label after column 1. (Menu_4_Submenu_2)
01F7                      M                                         Menu_4_Submenu_2
                          M                                                 mod_PCL symbol_pointer
  0000                    M                 local   Table
01F7   08??               M                 movfw   symbol_pointer
01F8   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
01F9   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
01FA   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
01FB   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 39


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
01FC   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
01FD   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
01FE   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
01FF                      M         Table
01FF   3434 342E 3432     M                                                 dt              MENU_SUBMENU_NAME_4_2,0
       342E 3453 3468 
       3475 3474 3420 
       344F 3466 3466 
       3400 
Warning[207]: Found label after column 1. (a)
  00000003                M                                         a+=1
Warning[207]: Found label after column 1. (Menu_4_Submenu_3)
020C                      M                                         Menu_4_Submenu_3
                          M                                                 mod_PCL symbol_pointer
  0000                    M                 local   Table
020C   08??               M                 movfw   symbol_pointer
020D   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
020E   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
020F   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
0210   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
0211   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
0212   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
0213   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
0214                      M         Table
0214   3434 342E 3433     M                                                 dt              MENU_SUBMENU_NAME_4_3,0
       342E 3446 3441 
       3451 3400 
Warning[207]: Found label after column 1. (a)
  00000004                M                                         a+=1
                          M                                 endw
Warning[207]: Found label after column 1. (d)
  00000005                M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Подпункты 5 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
  0001                    M                                 local   a=1     
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_5+1
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 40


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Warning[207]: Found label after column 1. (Menu_5_Submenu_1)
021C                      M                                         Menu_5_Submenu_1
                          M                                                 mod_PCL symbol_pointer
  0000                    M                 local   Table
021C   08??               M                 movfw   symbol_pointer
021D   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
021E   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
021F   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
0220   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
0221   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
0222   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
0223   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
0224                      M         Table
0224   3435 342E 3431     M                                                 dt              MENU_SUBMENU_NAME_5_1,0
       342E 3443 346F 
       346E 3466 3469 
       3467 3400 
Warning[207]: Found label after column 1. (a)
  00000002                M                                         a+=1
Warning[207]: Found label after column 1. (Menu_5_Submenu_2)
022F                      M                                         Menu_5_Submenu_2
                          M                                                 mod_PCL symbol_pointer
  0000                    M                 local   Table
022F   08??               M                 movfw   symbol_pointer
0230   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
0231   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
0232   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
0233   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
0234   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
0235   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
0236   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
0237                      M         Table
0237   3435 342E 3432     M                                                 dt              MENU_SUBMENU_NAME_5_2,0
       342E 3453 3465 
       3474 3474 3469 
       346E 3467 3473 
       3400 
Warning[207]: Found label after column 1. (a)
  00000003                M                                         a+=1
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 41


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Warning[207]: Found label after column 1. (Menu_5_Submenu_3)
0244                      M                                         Menu_5_Submenu_3
                          M                                                 mod_PCL symbol_pointer
  0000                    M                 local   Table
0244   08??               M                 movfw   symbol_pointer
0245   3E??               M                 addlw   low Table               ; Добавить 8 младших бит адреса таблицы к смещению
0246   00??               M                 movwf   offset                  ; Сохранить младшие 8 бит требуемого адреса
                          M         if      USE_SHORT_MOD_PCL
0247   0D??               M                 rlf             known_zero,w    ; так сохраняют бит переполнения от сложения 
0248   3E??               M                 addlw   high Table              ; Загрузить 5 старших бит адреса
                          M         else
                          M                 movlw   high Table              ; Загрузить 5 старших бит адреса
                          M                 btfsc   STATUS,C                ; Перешли границу страницы памяти программ?
                          M                 addlw   1                               ; Если да, увеличить на 1 старшие 5 бит
                          M         endif
0249   008A               M                 movwf   PCLATH                  ; Установить старшую часть адреса
024A   08??               M                 movfw   offset                  ; Загрузить рассчитанное значание младшей части адреса
024B   0082               M                 movwf   PCL                             ; Установить младшую часть адреса
Warning[207]: Found label after column 1. (Table)
024C                      M         Table
024C   3435 342E 3433     M                                                 dt              MENU_SUBMENU_NAME_5_3,0
       342E 3441 3462 
       346F 3475 3474 
       3400 
Warning[207]: Found label after column 1. (a)
  00000004                M                                         a+=1
                          M                                 endw
Warning[207]: Found label after column 1. (d)
  00000006                M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Подпункты 6 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                          M                                 local   a=1     
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_6+1
                          M                                         Menu_6_Submenu_4
                          M                                                 mod_PCL symbol_pointer
                          M                                                 dt              MENU_SUBMENU_NAME_6_4,0
                          M                                         a+=1
                          M                                 endw
                          M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Подпункты 7 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                          M                                 local   a=1     
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_6+1
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 42


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M                                         Menu_6_Submenu_4
                          M                                                 mod_PCL symbol_pointer
                          M                                                 dt              MENU_SUBMENU_NAME_7_4,0
                          M                                         a+=1
                          M                                 endw
                          M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Подпункты 8 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                          M                                 local   a=1     
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_6+1
                          M                                         Menu_6_Submenu_4
                          M                                                 mod_PCL symbol_pointer
                          M                                                 dt              MENU_SUBMENU_NAME_8_4,0
                          M                                         a+=1
                          M                                 endw
                          M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Подпункты 9 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                          M                                 local   a=1     
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_6+1
                          M                                                 mod_PCL symbol_pointer
                          M                                                 dt              MENU_SUBMENU_NAME_9_4,0
                          M                                         a+=1
                          M                                 endw
                          M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M ; Подпункты 10 пункта меню
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
                          M                                 if              d<NUM_OF_MAIN_MENU_PUNKTS+1
                          M                                 local   a=1     
                          M                                 while   a<NUM_OF_SUBMENU_PUNKTS_6+1
                          M                                         Menu_6_Submenu_4
                          M                                                 mod_PCL symbol_pointer
                          M                                                 dt              MENU_SUBMENU_NAME_10_4,0
                          M                                         a+=1
                          M                                 endw
                          M                                         d+=1
                          M                                 endif
                          M ;-------------------------------------------------------------------------------------------------------
                            ----
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 43


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00051 ;===================================================================================================
0256                  00052 Menu_1_Submenu_1_action                                 ; Выполняем действие 1 подпункта 1 пункта
                      00053 ;       nop
0256   2???           00054         goto    End_Action
0257                  00055 Menu_1_Submenu_2_action                                 ; Выполняем действие 2 подпункта 1 пункта
                      00056 ;       nop
0257   2???           00057         goto    End_Action
0258                  00058 Menu_1_Submenu_3_action                                 ; Выполняем действие 3 подпункта 1 пункта
                      00059 ;       nop
0258   2???           00060         goto    End_Action
                      00061 ;---------------------------------------------------------------------------------------------------
0259                  00062 Menu_2_Submenu_1_action                                 ; Выполняем действие 1 подпункта 2 пункта
                      00063 ;       nop
0259   2???           00064         goto    End_Action
025A                  00065 Menu_2_Submenu_2_action                                 ; Выполняем действие 2 подпункта 2 пункта
                      00066 ;       nop
025A   2???           00067         goto    End_Action
025B                  00068 Menu_2_Submenu_3_action                                 ; Выполняем действие 3 подпункта 2 пункта
                      00069 ;       nop
025B   2???           00070         goto    End_Action
                      00071 ;---------------------------------------------------------------------------------------------------
025C                  00072 Menu_3_Submenu_1_action                                 ; Выполняем действие 1 подпункта 3 пункта
                      00073 ;       nop
025C   2???           00074         goto    End_Action
025D                  00075 Menu_3_Submenu_2_action                                 ; Выполняем действие 2 подпункта 3 пункта
                      00076 ;       nop
025D   2???           00077         goto    End_Action
025E                  00078 Menu_3_Submenu_3_action                                 ; Выполняем действие 3 подпункта 3 пункта
                      00079 ;       nop
025E   2???           00080         goto    End_Action
                      00081 ;---------------------------------------------------------------------------------------------------
025F                  00082 Menu_4_Submenu_1_action                                 ; Выполняем действие 1 подпункта 4 пункта
                      00083 ;       nop
025F   2???           00084         goto    End_Action
0260                  00085 Menu_4_Submenu_2_action                                 ; Выполняем действие 2 подпункта 4 пункта
                      00086 ;       nop
0260   2???           00087         goto    End_Action
0261                  00088 Menu_4_Submenu_3_action                                 ; Выполняем действие 3 подпункта 4 пункта
                      00089 ;       nop
0261   2???           00090         goto    End_Action                                                              
                      00091 ;---------------------------------------------------------------------------------------------------
0262                  00092 Menu_5_Submenu_1_action                                 ; Выполняем действие 1 подпункта 5 пункта
                      00093 ;       nop
0262   2???           00094         goto    End_Action
0263                  00095 Menu_5_Submenu_2_action                                 ; Выполняем действие 2 подпункта 5 пункта
                      00096 ;       nop
0263   2???           00097         goto    End_Action
0264                  00098 Menu_5_Submenu_3_action                                 ; Выполняем действие 3 подпункта 5 пункта
                      00099 ;       nop
0264   2???           00100         goto    End_Action                      
                      00101 ;===================================================================================================
0265                  00102 CLR_Display_routine                                             ; Подпрограмма очистки дисплея
0265   3001           00103         movlw   CLR_DISP
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 44


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0266   2???           00104         call    Send_LCD_Command
0267   2???           00105         call    Delay_4ms                                       ; Обязательная задержка после очистки ди
                            сплея !!!
0268   0008           00106         return
                      00107 ;===================================================================================================
0269                  00108 Second_String_routine                                   ; Подпрограмма перевода указателя на 2-ю строку 
Warning[205]: Found directive in column 1. (if)
                      00109 if      USE_CURSOR
                      00110         movlw   b'10001111'                                     ; Установим курсор на последний символ 1
                            -й строки
                      00111         call    Send_LCD_Command
                      00112         movlw   '<'                                                     ; И нарисуем там указатель текущ
                            его пункта меню
                      00113         call    Send_LCD_Symbol
                      00114 endif
0269   30C0           00115         movlw   SECOND_LINE                                     ; Переводим указатель на 2-ю строку     
026A   2???           00116         call    Send_LCD_Command
026B   0008           00117         return                                                          ; И приступаем к отрисовке следу
                            ющего пункта меню
                      00118 ;===================================================================================================
026C                  00119 Switch_Menu_routine                                             ; Подпрограмма вывода названия пункта ме
                            ню на дисплей
026C   01??           00120         clrf    symbol_pointer
026D                  00121 String_Menu
026D   2???           00122         call    Switch_Menu_Table
026E   39FF           00123         andlw   0FFh
026F   1903           00124         btfsc   STATUS,Z
0270   0008           00125         return 
0271   2???           00126         call    Send_LCD_Symbol
Message[305]: Using default destination of 1 (file).
0272   0A??           00127         incf    symbol_pointer  
0273   2???           00128         goto    String_Menu
                      00129 ;-------------------------------------------------------------------------------------------------------
                            ---------------------
0274                  00130 Switch_Submenu_routine                                  ; Подпрограмма вывода названия подпункта меню на
                             дисплей
0274   01??           00131         clrf    symbol_pointer
0275                  00132 String_Submenu
0275   2???           00133         call    Switch_Submenu_Table
0276   39FF           00134         andlw   0FFh
0277   1903           00135         btfsc   STATUS,Z
0278   0008           00136         return 
0279   2???           00137         call    Send_LCD_Symbol
Message[305]: Using default destination of 1 (file).
027A   0A??           00138         incf    symbol_pointer  
027B   2???           00139         goto    String_Submenu
                      00140 ;===================================================================================================
027C                  00141 Menu_heandler                                                   ; Обработчик меню
027C   01??           00142         clrf    index_menu                                      ; Была нажатая какая-то кнопка, очистим 
                            индекс пункта меню                                      
                      00143 
Warning[205]: Found directive in column 1. (if)
                      00144 if      USE_MOVING_CURSOR       &       !USE_TOP_LAST_CURSOR
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 45


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00145         movlw   b'11110000'                                     ; Сбросим признак нажатия для всех кнопо
                            к                                       
                      00146         andwf   flags                                           
                      00147         bsf             Press_UP                                        ; И установим признак нажатия то
                            лько для кнопки "ВВЕРХ"
                      00148 endif
                      00149 
027D                  00150 Switch_Menu                                                             ; Поместим курсор на нужный пунк
                            т меню                                                  
                      00151 
Warning[205]: Found directive in column 1. (if)
                      00152 if      USE_MOVING_CURSOR       &       USE_TOP_LAST_CURSOR
027D   08??           00153         movfw   index_menu
027E   1D03           00154         btfss   STATUS,Z
027F   2???           00155         goto    Check_1         
0280   30F0           00156         movlw   b'11110000'                                     ; Сбросим признак нажатия для всех кнопо
                            к                                       
Message[305]: Using default destination of 1 (file).
0281   05??           00157         andwf   flags   
0282   1400           00158         bsf             Press_UP                                        ; И установим признак нажатия то
                            лько для кнопки "ВВЕРХ"
0283   2???           00159         goto    Skip_Check_1
0284                  00160 Check_1
0284   3C04           00161         sublw   NUM_OF_MAIN_MENU_PUNKTS-1       ; Сравниваем с количеством пунктов меню
0285   1D03           00162         btfss   STATUS,Z        
0286   2???           00163         goto    Skip_Check_1    
0287   30F0           00164         movlw   b'11110000'                                     ; Сбросим признак нажатия для всех кнопо
                            к                                       
Message[305]: Using default destination of 1 (file).
0288   05??           00165         andwf   flags
0289   1480           00166         bsf             Press_DOWN                                      ; И установим признак нажатия то
                            лько для кнопки "ВНИЗ"
028A                  00167 Skip_Check_1
Warning[205]: Found directive in column 1. (endif)
                      00168 endif
                      00169 
028A   2???           00170         call    CLR_Display_routine                     ; Очистим дисплей перед самой перерисовкой пункт
                            ов меню, чтобы уменьшить моргание
                      00171 
Warning[205]: Found directive in column 1. (if)
                      00172 if      USE_MOVING_CURSOR
028B   1C00           00173         btfss   Press_UP
028C   2???           00174         goto    Pressing_DOWN                   
028D   2???           00175         call    Switch_Menu_routine                     ; Рисуем текущий пункт меню     
028E   308F           00176         movlw   b'10001111'                                     ; Установим курсор на последний символ 1
                            -й строки       
028F   2???           00177         call    Send_LCD_Command
0290   303C           00178         movlw   '<'                                                     ; И нарисуем там указатель текущ
                            его пункта меню
0291   2???           00179         call    Send_LCD_Symbol
0292   2???           00180         call    Second_String_routine           ; Указатель на 2 строку
Message[305]: Using default destination of 1 (file).
0293   0A??           00181         incf    index_menu                                      ; Берем следующий пункт
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 46


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0294   08??           00182         movfw   index_menu      
0295   3C05           00183         sublw   NUM_OF_MAIN_MENU_PUNKTS         ; Сравниваем с количеством пунктов меню
0296   1903           00184         btfsc   STATUS,Z
0297   2???           00185         goto    Correct_index_menu                      
0298   2???           00186         call    Switch_Menu_routine                     ; Рисуем пункт меню под текущим 
Message[305]: Using default destination of 1 (file).
0299   03??           00187         decf    index_menu                                      ; Не забудем вернуть назад текущий пункт
                             меню   
029A   2???           00188         goto    Skip_Correct_index_menu_3
029B                  00189 Correct_index_menu                                              ; Достигли последнего пункта меню, следу
                            ющим отображаем 1 пункт
029B   01??           00190         clrf    index_menu
029C   2???           00191         call    Switch_Menu_routine
029D   3004           00192         movlw   NUM_OF_MAIN_MENU_PUNKTS-1
029E   00??           00193         movwf   index_menu      
029F   2???           00194         goto    Skip_Correct_index_menu_3
                      00195 
02A0                  00196 Pressing_DOWN
Message[305]: Using default destination of 1 (file).
02A0   03??           00197         decf    index_menu                                      ; Берем предыдущий пункт меню
02A1   1B80           00198         btfsc   index_menu,.7                           ; Проверяем на "<0"     простой проверкой 7 бита
                            , максимальное количество пунктов меню ограничено 64
02A2   2???           00199         goto    Correct_index_menu_2
02A3   2???           00200         call    Switch_Menu_routine                     ; Рисуем предыдущий пункт меню
02A4   2???           00201         call    Second_String_routine           ; Указатель на 2 строку
Message[305]: Using default destination of 1 (file).
02A5   0A??           00202         incf    index_menu                                      ; Вернем текущий пункт                  
                                            
02A6   08??           00203         movfw   index_menu      
02A7   2???           00204         goto    Skip_Correct_index_menu_2
02A8                  00205 Correct_index_menu_2
02A8   3004           00206         movlw   NUM_OF_MAIN_MENU_PUNKTS-1
02A9   00??           00207         movwf   index_menu
02AA   2???           00208         call    Switch_Menu_routine                     ; Рисуем предыдущий пункт меню
02AB   2???           00209         call    Second_String_routine           ; Указатель на 2 строку
02AC   01??           00210         clrf    index_menu
02AD                  00211 Skip_Correct_index_menu_2
02AD   2???           00212         call    Switch_Menu_routine                     ; Рисуем текущий пункт меню под предыдущим 
02AE   30CF           00213         movlw   b'11001111'                                     ; Установим курсор на последний символ 2
                            -й строки
02AF   2???           00214         call    Send_LCD_Command
02B0   303C           00215         movlw   '<'                                                     ; И нарисуем там указатель текущ
                            его пункта меню
02B1   2???           00216         call    Send_LCD_Symbol
02B2                  00217 Skip_Correct_index_menu_3
                      00218 
Warning[205]: Found directive in column 1. (else)
                      00219 else
                      00220         call    Switch_Menu_routine                     ; Рисуем текущий пункт меню
                      00221         call    Second_String_routine           ; Указатель на 2 строку
                      00222         incf    index_menu                                      ; Берем следующий пункт
                      00223         movfw   index_menu      
                      00224         sublw   NUM_OF_MAIN_MENU_PUNKTS         ; Сравниваем с количеством пунктов меню
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 47


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00225         btfsc   STATUS,Z
                      00226         goto    Correct_index_menu                      
                      00227         call    Switch_Menu_routine                     ; Рисуем пункт меню под текущим 
                      00228         decf    index_menu                                      ; Не забудем вернуть назад текущий пункт
                             меню   
                      00229         goto    Skip_Correct_index_menu
                      00230 Correct_index_menu                                              ; Достигли последнего пункта меню, следу
                            ющим отображаем 1 пункт
                      00231         clrf    index_menu
                      00232         call    Switch_Menu_routine
                      00233         movlw   NUM_OF_MAIN_MENU_PUNKTS-1
                      00234         movwf   index_menu      
                      00235 Skip_Correct_index_menu
                      00236 endif
                      00237 
02B2   2???           00238         call    Debounce_Delay                          ; Процедура антидребезга, вызывается при первом 
                            входе в меню, при нажатии кнопок "Вверх", "Вниз", выходе из подпункта меню
                      00239 
Warning[205]: Found directive in column 1. (if)
                      00240 if      USE_RBIE
02B3   30F0           00241         movlw   b'11110000'                                     ; Сбросим признак нажатия для всех кнопо
                            к                                       
Message[305]: Using default destination of 1 (file).
02B4   05??           00242         andwf   flags   
02B5   100B           00243         bcf             INTCON,RBIF                                     ; Сбросим флаг возможно вызваног
                            о прерывания
02B6   158B           00244         bsf             INTCON,RBIE                                     ; И разрешим прерывания от кнопо
                            к
Warning[205]: Found directive in column 1. (endif)
                      00245 endif
                      00246 
02B7   3014           00247         movlw   EXIT_DELAY                                      ; Заносим счетчик проходов опроса клавиш
02B8   00??           00248         movwf   menu_counter
02B9   01??           00249         clrf    temp_1
02BA   01??           00250         clrf    temp_2
02BB                  00251 Loop_Menu                                                               ; Вычисляем нажатую клавишу
                      00252 
Warning[205]: Found directive in column 1. (if)
                      00253 if      USE_RBIE
02BB   1800           00254         btfsc   Press_UP
02BC   2???           00255         goto    Cursor_UP_menu                          
02BD   1880           00256         btfsc   Press_DOWN
02BE   2???           00257         goto    Cursor_DOWN_menu
02BF   1980           00258         btfsc   Press_ENTER
02C0   2???           00259         goto    ENTER_menu
02C1   1900           00260         btfsc   Press_EXIT
02C2   2???           00261         goto    EXIT_menu
Warning[205]: Found directive in column 1. (else)
                      00262 else
                      00263         btfss   UP
                      00264         goto    Cursor_UP_menu                          
                      00265         btfss   DOWN
                      00266         goto    Cursor_DOWN_menu
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 48


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00267         btfss   ENTER
                      00268         goto    ENTER_menu
                      00269         btfss   EXIT
                      00270         goto    EXIT_menu
                      00271 endif
                      00272 ;-----------------------------------------------------------------                                      
                                                                    
Message[305]: Using default destination of 1 (file).
02C3   0B??           00273         decfsz  temp_1                                          ; Ни одна клавиша не нажата             
                                                            
02C4   2???           00274         goto    Loop_Menu                                       ; Цикл ожидания нажатия в главном меню  
Message[305]: Using default destination of 1 (file).
02C5   0B??           00275         decfsz  temp_2  
02C6   2???           00276         goto    Loop_Menu
Message[305]: Using default destination of 1 (file).
02C7   0B??           00277         decfsz  menu_counter                            ; Декремент счетчика проходов опроса клавиш     
02C8   2???           00278         goto    Loop_Menu
02C9   2???           00279         goto    Zastavka                                        ; Вышел таймаут нахождения в меню, выход
                            им в заставку   
                      00280 ;-----------------------------------------------------------------
02CA                  00281 Cursor_UP_menu                                                  ; Была нажата клавиша "Вверх"
                      00282 
Warning[205]: Found directive in column 1. (if)
                      00283 if      USE_MOVING_CURSOR       &       !USE_RBIE
                      00284         movlw   b'11110000'                                     ; Сбросим признак нажатия для всех кнопо
                            к                                       
                      00285         andwf   flags                                           
                      00286         bsf             Press_UP                                        ; И установим признак нажатия то
                            лько для кнопки "ВВЕРХ"
                      00287 endif
                      00288 
Message[305]: Using default destination of 1 (file).
02CA   03??           00289         decf    index_menu                                      ; Берем предыдущий пункт меню
02CB   1F80           00290         btfss   index_menu,.7                           ; Проверяем на "<0"     простой проверкой 7 бита
                            , максимальное количество пунктов меню ограничено 64
02CC   2???           00291         goto    Switch_Menu
02CD   3004           00292         movlw   NUM_OF_MAIN_MENU_PUNKTS-1       ; Стало "<0", сделаем текущим последний пункт меню. Учит
                            ываем, что индекс пункта меню на 1 меньше его порядкового номера
02CE   00??           00293         movwf   index_menu
02CF   2???           00294         goto    Switch_Menu                                     ; Отрисовываем новый текущий пункт меню
                      00295 ;-----------------------------------------------------------------
02D0                  00296 Cursor_DOWN_menu                                                ; Была нажата клавиша "Вниз"
                      00297 
Warning[205]: Found directive in column 1. (if)
                      00298 if      USE_MOVING_CURSOR       &       !USE_RBIE
                      00299         movlw   b'11110000'                                     ; Сбросим признак нажатия для всех кнопо
                            к                                       
                      00300         andwf   flags                                           
                      00301         bsf             Press_DOWN                                      ; И установим признак нажатия то
                            лько для кнопки "ВНИЗ"
                      00302 endif
                      00303 
Message[305]: Using default destination of 1 (file).
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 49


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02D0   0A??           00304         incf    index_menu                                      ; Берем следущий пункт меню
02D1   08??           00305         movfw   index_menu
02D2   3C05           00306         sublw   NUM_OF_MAIN_MENU_PUNKTS         ; Достигли последнего ?
02D3   1903           00307         btfsc   STATUS,Z
02D4   01??           00308         clrf    index_menu                                      ; Если да, делаем текущим первый пункт м
                            еню     
02D5   2???           00309         goto    Switch_Menu                                     ; Отрисовываем новый текущий пункт меню
                      00310 ;-----------------------------------------------------------------
02D6                  00311 EXIT_menu                                                               ; Была нажата клавиша "Выход"
                      00312 
Warning[205]: Found directive in column 1. (if)
                      00313 if      USE_RBIE
02D6   30F0           00314         movlw   b'11110000'                                     ; Сбросим признак нажатия для всех кнопо
                            к                                       
Message[305]: Using default destination of 1 (file).
02D7   05??           00315         andwf   flags   
02D8   100B           00316         bcf             INTCON,RBIF                                     ; Сбросим флаг возможно вызваног
                            о прерывания
02D9   158B           00317         bsf             INTCON,RBIE                                     ; И разрешим прерывания от кнопо
                            к
Warning[205]: Found directive in column 1. (else)
                      00318 else
                      00319         call    Debounce_Delay  
                      00320 endif
02DA   2???           00321         goto    Zastavka                                        ; Выходим в заставку
                      00322 ;-----------------------------------------------------------------
02DB                  00323 ENTER_menu                                                              ; Была нажата клавиша "Вход"
02DB   01??           00324         clrf    index_submenu                           ; Очистим индекс пункта подменю 
                      00325 
Warning[205]: Found directive in column 1. (if)
                      00326 if      USE_MOVING_CURSOR       &       !USE_TOP_LAST_CURSOR
                      00327         movlw   b'11110000'                                     ; Сбросим признак нажатия для всех кнопо
                            к                                       
                      00328         andwf   flags                                           
                      00329         bsf             Press_UP                                        ; И установим признак нажатия то
                            лько для кнопки "ВВЕРХ"
                      00330 endif
                      00331 
02DC                  00332 Switch_Submenu                                                  ; Поместим курсор на нужный подпункт нуж
                            ного пункта
                      00333 
Warning[205]: Found directive in column 1. (if)
                      00334 if      USE_MOVING_CURSOR       &       USE_TOP_LAST_CURSOR
02DC   08??           00335         movfw   index_submenu
02DD   1D03           00336         btfss   STATUS,Z
02DE   2???           00337         goto    Check_2         
02DF   30F0           00338         movlw   b'11110000'                                     ; Сбросим признак нажатия для всех кнопо
                            к                                       
Message[305]: Using default destination of 1 (file).
02E0   05??           00339         andwf   flags   
02E1   1400           00340         bsf             Press_UP                                        ; И установим признак нажатия то
                            лько для кнопки "ВВЕРХ"
02E2   2???           00341         goto    Skip_Check_2
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 50


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02E3                  00342 Check_2
02E3   2???           00343         call    Num_of_Submenu_Table                    
02E4   00??           00344         movwf   temp_1  
02E5   03??           00345         decf    temp_1, w                                       ; Учитываем, что индекс подпункта начина
                            ется с 0
02E6   02??           00346         subwf   index_submenu,w                         ; Сравниваем с количеством подпунктов меню
02E7   1D03           00347         btfss   STATUS,Z        
02E8   2???           00348         goto    Skip_Check_2    
02E9   30F0           00349         movlw   b'11110000'                                     ; Сбросим признак нажатия для всех кнопо
                            к                                       
Message[305]: Using default destination of 1 (file).
02EA   05??           00350         andwf   flags
02EB   1480           00351         bsf             Press_DOWN                                      ; И установим признак нажатия то
                            лько для кнопки "ВНИЗ"
02EC                  00352 Skip_Check_2
Warning[205]: Found directive in column 1. (endif)
                      00353 endif
                      00354 
02EC   2???           00355         call    CLR_Display_routine                     ; Очистим дисплей перед самой перерисовкой подпу
                            нктов меню, чтобы уменьшить моргание
                      00356 
Warning[205]: Found directive in column 1. (if)
                      00357 if      USE_MOVING_CURSOR
02ED   1C00           00358         btfss   Press_UP
02EE   2???           00359         goto    Pressing_DOWN_2                 
02EF   2???           00360         call    Switch_Submenu_routine          ; Рисуем текущий подпункт меню  
02F0   308F           00361         movlw   b'10001111'                                     ; Установим курсор на последний символ 1
                            -й строки       
02F1   2???           00362         call    Send_LCD_Command
02F2   303C           00363         movlw   '<'                                                     ; И нарисуем там указатель текущ
                            его пункта меню
02F3   2???           00364         call    Send_LCD_Symbol
02F4   2???           00365         call    Second_String_routine           ; Указатель на 2 строку
Message[305]: Using default destination of 1 (file).
02F5   0A??           00366         incf    index_submenu                           ; Берем следующий пункт
02F6   2???           00367         call    Num_of_Submenu_Table                    
02F7   02??           00368         subwf   index_submenu,w                         ; Сравниваем с количеством подпунктов меню
02F8   1903           00369         btfsc   STATUS,Z
02F9   2???           00370         goto    Correct_index_submenu                   
02FA   2???           00371         call    Switch_Submenu_routine          ; Рисуем подпункт меню под текущим 
Message[305]: Using default destination of 1 (file).
02FB   03??           00372         decf    index_submenu                           ; Не забудем вернуть назад текущий пункт меню   
02FC   2???           00373         goto    Skip_Correct_index_submenu_3
02FD                  00374 Correct_index_submenu                                   ; Достигли последнего подпункта меню, следующим 
                            отображаем 1 подпункт
02FD   01??           00375         clrf    index_submenu
02FE   2???           00376         call    Switch_Submenu_routine
02FF   2???           00377         call    Num_of_Submenu_Table
0300   00??           00378         movwf   index_submenu
Message[305]: Using default destination of 1 (file).
0301   03??           00379         decf    index_submenu                           ; Учитываем, что индекс подпункта начинается с 0
                                    
0302   2???           00380         goto    Skip_Correct_index_submenu_3
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 51


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00381 
0303                  00382 Pressing_DOWN_2
Message[305]: Using default destination of 1 (file).
0303   03??           00383         decf    index_submenu                           ; Берем предыдущий пункт меню
0304   1B80           00384         btfsc   index_submenu,.7                        ; Проверяем на "<0"     простой проверкой 7 бита
                            , максимальное количество пунктов меню ограничено 64
0305   2???           00385         goto    Correct_index_submenu_2
0306   2???           00386         call    Switch_Submenu_routine          ; Рисуем предыдущий пункт меню
0307   2???           00387         call    Second_String_routine           ; Указатель на 2 строку
Message[305]: Using default destination of 1 (file).
0308   0A??           00388         incf    index_submenu                           ; Вернем текущий пункт                          
                                    
0309   08??           00389         movfw   index_submenu   
030A   2???           00390         goto    Skip_Correct_index_submenu_2
030B                  00391 Correct_index_submenu_2
030B   2???           00392         call    Num_of_Submenu_Table            ; Стало "<0", возвращаем количество пунктов в даном подм
                            еню     
030C   00??           00393         movwf   index_submenu                           ; Сделаем текущим последний пункт подменю
Message[305]: Using default destination of 1 (file).
030D   03??           00394         decf    index_submenu                           ; Учитываем, что индекс пункта подменю на 1 мень
                            ше его порядкового номера
030E   2???           00395         call    Switch_Submenu_routine          ; Рисуем предыдущий пункт меню
030F   2???           00396         call    Second_String_routine           ; Указатель на 2 строку
0310   01??           00397         clrf    index_submenu
0311                  00398 Skip_Correct_index_submenu_2
0311   2???           00399         call    Switch_Submenu_routine          ; Рисуем текущий пункт меню под предыдущим 
0312   30CF           00400         movlw   b'11001111'                                     ; Установим курсор на последний символ 2
                            -й строки
0313   2???           00401         call    Send_LCD_Command
0314   303C           00402         movlw   '<'                                                     ; И нарисуем там указатель текущ
                            его пункта меню
0315   2???           00403         call    Send_LCD_Symbol
0316                  00404 Skip_Correct_index_submenu_3
                      00405 
Warning[205]: Found directive in column 1. (else)
                      00406 else
                      00407         call    Switch_Submenu_routine          ; Рисуем текущий подпункт меню  
                      00408         call    Second_String_routine           ; Указатель на 2 строку
                      00409         incf    index_submenu
                      00410         call    Num_of_Submenu_Table                    
                      00411         subwf   index_submenu,w                         ; Сравниваем с количеством подпунктов меню
                      00412         btfsc   STATUS,Z
                      00413         goto    Correct_index_submenu
                      00414         call    Switch_Submenu_routine          ; Рисуем подпункт меню под текущим 
                      00415         decf    index_submenu                           ; Не забудем вернуть назад текущий подпункт меню
                      00416         goto    Skip_Correct_index_submenu      
                      00417 Correct_index_submenu                                   ; Достигли последнего подпункта меню, следующим 
                            отображаем 1 подпункт
                      00418         clrf    index_submenu   
                      00419         call    Switch_Submenu_routine
                      00420         call    Num_of_Submenu_Table
                      00421         movwf   index_submenu   
                      00422         decf    index_submenu                           ; Учитываем, что индекс подпункта начинается с 0
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 52


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00423 Skip_Correct_index_submenu
                      00424 endif
                      00425 
0316   2???           00426         call    Debounce_Delay                          ; Процедура антидребезга, вызывается при первом 
                            входе в подпункт меню, при нажатии кнопок "Вверх", "Вниз", выходе из действия подпункта меню
                      00427 
Warning[205]: Found directive in column 1. (if)
                      00428 if      USE_RBIE
0317   30F0           00429         movlw   b'11110000'                                     ; Сбросим признак нажатия для всех кнопо
                            к                                       
Message[305]: Using default destination of 1 (file).
0318   05??           00430         andwf   flags   
0319   100B           00431         bcf             INTCON,RBIF                                     ; Сбросим флаг возможно вызваног
                            о прерывания
031A   158B           00432         bsf             INTCON,RBIE                                     ; И разрешим прерывания от кнопо
                            к
Warning[205]: Found directive in column 1. (endif)
                      00433 endif
                      00434 
031B   3014           00435         movlw   EXIT_DELAY                                      ; Заносим счетчик проходов опроса клавиш
031C   00??           00436         movwf   menu_counter
031D   01??           00437         clrf    temp_1
031E   01??           00438         clrf    temp_2
031F                  00439 Loop_Submenu                                                    ; Мы зашли в пункт меню, ждем нажатия сл
                            едующей кнопки
                      00440 
Warning[205]: Found directive in column 1. (if)
                      00441 if      USE_RBIE
031F   1800           00442         btfsc   Press_UP
0320   2???           00443         goto    Cursor_UP_submenu                               
0321   1880           00444         btfsc   Press_DOWN
0322   2???           00445         goto    Cursor_DOWN_submenu
0323   1980           00446         btfsc   Press_ENTER
0324   2???           00447         goto    ENTER_submenu
0325   1900           00448         btfsc   Press_EXIT
0326   2???           00449         goto    EXIT_submenu
Warning[205]: Found directive in column 1. (else)
                      00450 else
                      00451         btfss   UP
                      00452         goto    Cursor_UP_submenu                               
                      00453         btfss   DOWN
                      00454         goto    Cursor_DOWN_submenu
                      00455         btfss   ENTER
                      00456         goto    ENTER_submenu
                      00457         btfss   EXIT
                      00458         goto    EXIT_submenu
                      00459 endif
                      00460 ;-----------------------------------------------------------------
Message[305]: Using default destination of 1 (file).
0327   0B??           00461         decfsz  temp_1                                          ; Ни одна клавиша не нажата     
0328   2???           00462         goto    Loop_Submenu                            ; Цикл ожидания нажатия в пункте меню
Message[305]: Using default destination of 1 (file).
0329   0B??           00463         decfsz  temp_2  
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 53


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

032A   2???           00464         goto    Loop_Submenu
Message[305]: Using default destination of 1 (file).
032B   0B??           00465         decfsz  menu_counter                            ; Декремент счетчика проходов опроса клавиш     
                                    
032C   2???           00466         goto    Loop_Submenu
032D   2???           00467         goto    Switch_Menu                                     ; Вышел таймаут нахождения в подменю, вы
                            ходим в предыдущий пункт меню
                      00468 ;-----------------------------------------------------------------
032E                  00469 Cursor_UP_submenu                                               ; Была нажата клавиша "Вверх"
                      00470 
Warning[205]: Found directive in column 1. (if)
                      00471 if      USE_MOVING_CURSOR       &       !USE_RBIE
                      00472         movlw   b'11110000'                                     ; Сбросим признак нажатия для всех кнопо
                            к                                       
                      00473         andwf   flags                                           
                      00474         bsf             Press_UP                                        ; И установим признак нажатия то
                            лько для кнопки "ВВЕРХ"
                      00475 endif
                      00476 
Message[305]: Using default destination of 1 (file).
032E   03??           00477         decf    index_submenu                           ; Берем предыдущий пункт подменю
032F   1F80           00478         btfss   index_submenu,.7                        ; Проверяем на "<0"     простой проверкой 7 бита
                            , максимальное количество пунктов подменю ограничено 64
0330   2???           00479         goto    Switch_Submenu  
0331   2???           00480         call    Num_of_Submenu_Table            ; Стало "<0", возвращаем количество пунктов в даном подм
                            еню     
0332   00??           00481         movwf   index_submenu                           ; Сделаем текущим последний пункт подменю
Message[305]: Using default destination of 1 (file).
0333   03??           00482         decf    index_submenu                           ; Учитываем, что индекс пункта подменю на 1 мень
                            ше его порядкового номера
0334   2???           00483         goto    Switch_Submenu                          ; Отрисовываем новый текущий подпункт меню      
                      00484 ;-----------------------------------------------------------------
0335                  00485 Cursor_DOWN_submenu                                             ; Была нажата клавиша "Вниз"
                      00486 
Warning[205]: Found directive in column 1. (if)
                      00487 if      USE_MOVING_CURSOR       &       !USE_RBIE
                      00488         movlw   b'11110000'                                     ; Сбросим признак нажатия для всех кнопо
                            к                                       
                      00489         andwf   flags                                           
                      00490         bsf             Press_DOWN                                      ; И установим признак нажатия то
                            лько для кнопки "ВНИЗ"
                      00491 endif
                      00492 
Message[305]: Using default destination of 1 (file).
0335   0A??           00493         incf    index_submenu                           ; Берем следущий пункт подменю
0336   2???           00494         call    Num_of_Submenu_Table            ; Возвращаем количество пунктов в даном подменю 
0337   02??           00495         subwf   index_submenu,w                         ; Достигли последнего ? 
0338   1903           00496         btfsc   STATUS,Z
0339   01??           00497         clrf    index_submenu                           ; Если да, делаем текущим первый подпункт меню  
                                    
033A   2???           00498         goto    Switch_Submenu                          ; Отрисовываем новый текущий подпункт меню
                      00499 ;-----------------------------------------------------------------      
033B                  00500 EXIT_submenu                                                    ; Была нажата клавиша "Выход"
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 54


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

033B   01??           00501         clrf    index_submenu                           ; Обнуляем индекс пункта подменю, чтобы при след
                            ующем заходе в любой пункт меню курсор находился на 1 пункте подменю                    
033C   2???           00502         goto    Switch_Menu                                     ; Выходим в меню
                      00503 ;-----------------------------------------------------------------
033D                  00504 ENTER_submenu                                                   ; Была нажата клавиша "Вход"
033D   2???           00505         call    CLR_Display_routine                     ; Очистим дисплей
033E   2???           00506         goto    Switch_Action                           ; Делаем действие текущего подпункта меню
033F                  00507 End_Action
                      00508 ;-----------------------------------------------------------------
033F   01??           00509         clrf    symbol_pointer                          ; Рисуем подтверждение действия
0340                  00510 String_Action_Complete
0340   2???           00511         call    Table_Action_Complete   
0341   39FF           00512         andlw   0FFh
0342   1903           00513         btfsc   STATUS,Z
0343   2???           00514         goto    Out_Action_Complete
0344   2???           00515         call    Send_LCD_Symbol
Message[305]: Using default destination of 1 (file).
0345   0A??           00516         incf    symbol_pointer  
0346   2???           00517         goto    String_Action_Complete
0347                  00518 Out_Action_Complete
0347   01??           00519         clrf    temp_3                                          ; Задержка, чтобы успеть прочесть уведом
                            ление о выполнении действи
0348   2???           00520         call    Debounce_Delay
Message[305]: Using default destination of 1 (file).
0349   0B??           00521         decfsz  temp_3
034A   2???           00522         goto    $-2
                      00523 ;-----------------------------------------------------------------
034B   2???           00524         goto    Switch_Submenu                          ; И идем отрисовывать подпункт меню, курсор на т
                            ом же подпункте, что и был
                      00525 ;===================================================================================================
034C                  00526 Zastavka
034C   2???           00527         call    CLR_Display_routine                     ; Очистим дисплей
034D   01??           00528         clrf    symbol_pointer
034E                  00529 First_String
034E   2???           00530         call    Table_Zastavka_First_String     
034F   39FF           00531         andlw   0FFh
0350   1903           00532         btfsc   STATUS,Z
0351   2???           00533         goto    Out_First_String
0352   2???           00534         call    Send_LCD_Symbol
Message[305]: Using default destination of 1 (file).
0353   0A??           00535         incf    symbol_pointer  
0354   2???           00536         goto    First_String
0355                  00537 Out_First_String
0355   30C0           00538         movlw   SECOND_LINE     
0356   2???           00539         call    Send_LCD_Command
0357   01??           00540         clrf    symbol_pointer
0358                  00541 Next_String
0358   2???           00542         call    Table_Zastavka_Second_String
0359   39FF           00543         andlw   0FFh
035A   1903           00544         btfsc   STATUS,Z
035B   2???           00545         goto    Out_Next_String
035C   2???           00546         call    Send_LCD_Symbol
Message[305]: Using default destination of 1 (file).
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 55


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

035D   0A??           00547         incf    symbol_pointer  
035E   2???           00548         goto    Next_String
035F                  00549 Out_Next_String
035F   2???           00550         goto    Main    
                      00551 ;===================================================================================================
0360                  00552 Debounce_Delay                                                  ; Подпрограмма антидребезговой задержки
0360   3003           00553         movlw   .3                                                      ; Количество проходов подбираетс
                            я экспериментальным путем
0361   00??           00554         movwf   temp_2
0362   01??           00555         clrf    temp_1
0363                  00556 Loop_Delay
0363   0806           00557         movfw   PORTB                                           
0364   380F           00558         iorlw   b'00001111'                                     ; Установим незначущие разряды
0365   3E01           00559         addlw   .1
0366   1D03           00560         btfss   STATUS,Z
0367   2???           00561         goto    Loop_Delay                                      ; Если хоть одна кнопка нажата, просто з
                            ациклимся
Message[305]: Using default destination of 1 (file).
0368   0B??           00562         decfsz  temp_1  
0369   2???           00563         goto    $-1
Message[305]: Using default destination of 1 (file).
036A   0B??           00564         decfsz  temp_2  
036B   2???           00565         goto    Loop_Delay
036C   0008           00566         return
                      00567 ;===================================================================================================
                      00568         end
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 56


SYMBOL TABLE
  LABEL                             VALUE 

C                                 00000000
CLR_DISP                          00000001
CLR_Display_routine               00000265
CNTL_TRIS_MASK                    000000F5
Check_1                           00000284
Check_2                           000002E3
Correct_index_menu                0000029B
Correct_index_menu_2              000002A8
Correct_index_submenu             000002FD
Correct_index_submenu_2           0000030B
Create_Menu_Names                 
Create_Submenu_Names              
Cursor_DOWN_menu                  000002D0
Cursor_DOWN_submenu               00000335
Cursor_UP_menu                    000002CA
Cursor_UP_submenu                 0000032E
DC                                00000001
DD_RAM_ADDR                       00000080
DD_RAM_UL                         00000080
DISP_OFF                          00000008
DISP_ON                           0000000C
DISP_ON_B                         0000000F
DISP_ON_C                         0000000E
DOWN                              PORTB,5
Debounce_Delay                    00000360
Delay_4ms                         00000000
E                                 00000001
EEADR                             00000009
EECON1                            00000088
EECON2                            00000089
EEDATA                            00000008
EEIE                              00000006
EEIF                              00000004
ENTER                             PORTB,6
ENTER_menu                        000002DB
ENTER_submenu                     0000033D
ENTRY_DEC                         00000004
ENTRY_DEC_S                       00000005
ENTRY_INC                         00000006
ENTRY_INC_S                       00000007
EXIT                              PORTB,7
EXIT_DELAY                        .20
EXIT_menu                         000002D6
EXIT_submenu                      0000033B
End_Action                        0000033F
F                                 00000001
FSR                               00000004
First_String                      0000034E
GIE                               00000007
INDF                              00000000
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 57


SYMBOL TABLE
  LABEL                             VALUE 

INTF                              00000001
IRP                               00000007
LCD_CNTL                          00000005
LCD_CNTL_TRIS                     00000085
LCD_DATA                          00000006
LCD_DATA_TRIS                     00000086
Loop_Delay                        00000363
Loop_Menu                         000002BB
Loop_Submenu                      0000031F
MENU_NAME_1                       "1.Menu_1"
MENU_NAME_2                       "2.Menu_2"
MENU_NAME_3                       "3.Menu_3"
MENU_NAME_4                       "4.Menu_4"
MENU_NAME_5                       "5.Menu_5"
MENU_SUBMENU_NAME_1_1             "1.1.Garage"
MENU_SUBMENU_NAME_1_2             "1.2.Doors"
MENU_SUBMENU_NAME_1_3             "1.3.House"
MENU_SUBMENU_NAME_2_1             "2.1.Garage"
MENU_SUBMENU_NAME_2_2             "2.2.Doors"
MENU_SUBMENU_NAME_2_3             "2.3.House"
MENU_SUBMENU_NAME_3_1             "3.1.Review"
MENU_SUBMENU_NAME_3_2             "3.2.Shut Off"
MENU_SUBMENU_NAME_3_3             "3.3.FAQ"
MENU_SUBMENU_NAME_4_1             "4.1.Review"
MENU_SUBMENU_NAME_4_2             "4.2.Shut Off"
MENU_SUBMENU_NAME_4_3             "4.3.FAQ"
MENU_SUBMENU_NAME_5_1             "5.1.Config"
MENU_SUBMENU_NAME_5_2             "5.2.Settings"
MENU_SUBMENU_NAME_5_3             "5.3.About"
Main                              00000000
Menu_1                            000000E9
Menu_1_Submenu_1                  0000013E
Menu_1_Submenu_1_action           00000256
Menu_1_Submenu_2                  00000151
Menu_1_Submenu_2_action           00000257
Menu_1_Submenu_3                  00000163
Menu_1_Submenu_3_action           00000258
Menu_1_Table                      0000006E
Menu_1_Table_action               000000B2
Menu_2                            000000FA
Menu_2_Submenu_1                  00000175
Menu_2_Submenu_1_action           00000259
Menu_2_Submenu_2                  00000188
Menu_2_Submenu_2_action           0000025A
Menu_2_Submenu_3                  0000019A
Menu_2_Submenu_3_action           0000025B
Menu_2_Table                      00000079
Menu_2_Table_action               000000BD
Menu_3                            0000010B
Menu_3_Submenu_1                  000001AC
Menu_3_Submenu_1_action           0000025C
Menu_3_Submenu_2                  000001BF
Menu_3_Submenu_2_action           0000025D
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 58


SYMBOL TABLE
  LABEL                             VALUE 

Menu_3_Submenu_3                  000001D4
Menu_3_Submenu_3_action           0000025E
Menu_3_Table                      00000084
Menu_3_Table_action               000000C8
Menu_4                            0000011C
Menu_4_Submenu_1                  000001E4
Menu_4_Submenu_1_action           0000025F
Menu_4_Submenu_2                  000001F7
Menu_4_Submenu_2_action           00000260
Menu_4_Submenu_3                  0000020C
Menu_4_Submenu_3_action           00000261
Menu_4_Table                      0000008F
Menu_4_Table_action               000000D3
Menu_5                            0000012D
Menu_5_Submenu_1                  0000021C
Menu_5_Submenu_1_action           00000262
Menu_5_Submenu_2                  0000022F
Menu_5_Submenu_2_action           00000263
Menu_5_Submenu_3                  00000244
Menu_5_Submenu_3_action           00000264
Menu_5_Table                      0000009A
Menu_5_Table_action               000000DE
Menu_heandler                     0000027C
NOT_PD                            00000003
NOT_RBPU                          00000007
NOT_TO                            00000004
NUM_OF_MAIN_MENU_PUNKTS           .5
NUM_OF_SUBMENU_PUNKTS_1           .3
NUM_OF_SUBMENU_PUNKTS_2           .3
NUM_OF_SUBMENU_PUNKTS_3           .3
NUM_OF_SUBMENU_PUNKTS_4           .3
NUM_OF_SUBMENU_PUNKTS_5           .3
Next_String                       00000358
Num_of_Submenu_Table              00000047
OPTION_REG                        00000081
Only_Write                        00000001
Out_Action_Complete               00000347
Out_First_String                  00000355
Out_Next_String                   0000035F
PCL                               00000002
PCLATH                            0000000A
PORTA                             00000005
PORTB                             00000006
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
Press_DOWN                        flags,1
Press_ENTER                       flags,3
Press_EXIT                        flags,2
Press_UP                          flags,0
Pressing_DOWN                     000002A0
Pressing_DOWN_2                   00000303
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 59


SYMBOL TABLE
  LABEL                             VALUE 

RA0                               00000000
RA1                               00000001
RA2                               00000002
RA3                               00000003
RA4                               00000004
RB0                               00000000
RB1                               00000001
RB2                               00000002
RB3                               00000003
RB4                               00000004
RB5                               00000005
RB6                               00000006
RB7                               00000007
RBIE                              00000003
RBIF                              00000000
RD                                00000000
RP0                               00000005
RP1                               00000006
RS                                00000003
SECOND_LINE                       000000C0
STATUS                            00000003
Second_String_routine             00000269
Send_LCD_Command                  00000000
Send_LCD_Symbol                   00000000
Skip_Check_1                      0000028A
Skip_Check_2                      000002EC
Skip_Correct_index_menu_2         000002AD
Skip_Correct_index_menu_3         000002B2
Skip_Correct_index_submenu_2      00000311
Skip_Correct_index_submenu_3      00000316
String_Action_Complete            00000340
String_Menu                       0000026D
String_Submenu                    00000275
Switch_Action                     000000A5
Switch_Menu                       0000027D
Switch_Menu_Table                 00000054
Switch_Menu_routine               0000026C
Switch_Submenu                    000002DC
Switch_Submenu_Table              00000061
Switch_Submenu_routine            00000274
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TRISA                             00000085
TRISA0                            00000000
TRISA1                            00000001
TRISA2                            00000002
TRISA3                            00000003
TRISA4                            00000004
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 60


SYMBOL TABLE
  LABEL                             VALUE 

TRISB                             00000086
TRISB0                            00000000
TRISB1                            00000001
TRISB2                            00000002
TRISB3                            00000003
TRISB4                            00000004
TRISB5                            00000005
TRISB6                            00000006
TRISB7                            00000007
Table_Action_Complete             00000000
Table_Zastavka_First_String       00000019
Table_Zastavka_Second_String      00000030
UP                                PORTB,4
USE_CURSOR                        0
USE_MOVING_CURSOR                 1
USE_RBIE                          1
USE_SHORT_MOD_PCL                 1
USE_TOP_LAST_CURSOR               1
Use_4_bit_mode                    00000001
Use_High_Nible                    00000000
Use_One_Port                      00000000
W                                 00000000
WR                                00000001
WREN                              00000002
WRERR                             00000003
Z                                 00000002
ZASTAVKA_FIRST_STRING             "  MicroMenuLib"
ZASTAVKA_SECOND_STRING            "  ver 1.0 beta"
Zastavka                          0000034C
_CONFIG                           00002007
_CP_OFF                           00003FFF
_CP_ON                            0000000F
_FOSC_EXTRC                       00003FFF
_FOSC_HS                          00003FFE
_FOSC_LP                          00003FFC
_FOSC_XT                          00003FFD
_HS_OSC                           00003FFE
_IDLOC0                           00002000
_IDLOC1                           00002001
_IDLOC2                           00002002
_IDLOC3                           00002003
_LP_OSC                           00003FFC
_MicroMenu_034A                   0000034A
_MicroMenu_0369                   00000369
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC                           00003FFF
_WDTE_OFF                         00003FFB
_WDTE_ON                          00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_XT_OSC                           00003FFD
__16F84                           00000001
MPASM  5.51                 MICROMENU_LIB.ASM   5-28-2017  23:50:08         PAGE 61


SYMBOL TABLE
  LABEL                             VALUE 

add_PCL                           
flags                             00000000
goto_Punkt_Menu                   
goto_Punkt_Submenu                
goto_Punkt_Submenu_action         
index_menu                        00000000
index_submenu                     00000001
known_zero                        00000000
menu_counter                      00000003
mod_PCL                           
n                                 00000000
offset                            00000000
pop                               
push                              
retlw_num_of_submenu_punkts       
symbol_pointer                    00000002
temp_1                            00000004
temp_2                            00000005
temp_3                            00000006
y                                 00000001

Errors   :     0
Warnings :   182 reported,     0 suppressed
Messages :    37 reported,     0 suppressed

